<!DOCTYPE html>
<html lang="id" data-theme="light">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Dashboard Absen Online</title>
	<link rel="icon" type="image/svg+xml" href="/src/assets/sinyal.svg">
	<link rel="shortcut icon" type="image/svg+xml" href="/src/assets/sinyal.svg">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="/src/assets/css/home-index.css?v=1771987828">
			<script>
				(function () {
					var themeValue = '';
					try {
						themeValue = String(window.localStorage.getItem('home_index_theme') || '').toLowerCase();
					} catch (error) {}
					if (themeValue !== 'dark' && themeValue !== 'light') {
						var cookieMatch = document.cookie.match(/(?:^|;\s*)home_index_theme=(dark|light)\b/i);
						if (cookieMatch && cookieMatch[1]) {
							themeValue = String(cookieMatch[1]).toLowerCase();
						}
					}
					if (themeValue === 'dark') {
						document.documentElement.classList.add('theme-dark');
						document.documentElement.setAttribute('data-theme', 'dark');
					} else if (themeValue === 'light') {
						document.documentElement.classList.remove('theme-dark');
						document.documentElement.setAttribute('data-theme', 'light');
					}
				})();
			</script>
		<style>
			.theme-toggle-btn {
				border: 0;
				background: transparent;
				padding: 0;
				margin: 0;
				cursor: pointer;
				display: inline-flex;
				align-items: center;
				justify-content: center;
			}
			.theme-toggle-track {
				position: relative;
				width: 62px;
				height: 34px;
				border-radius: 999px;
				border: 2px solid rgba(255, 255, 255, 0.48);
				background: rgba(6, 24, 42, 0.34);
				box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.08);
				display: inline-flex;
				align-items: center;
				justify-content: space-between;
				padding: 0 9px;
				transition: background-color 0.25s ease, border-color 0.25s ease, box-shadow 0.25s ease;
			}
			.theme-toggle-icon {
				font-size: 15px;
				line-height: 1;
				transition: transform 0.25s ease, opacity 0.25s ease, color 0.25s ease;
			}
			.theme-toggle-icon.sun {
				color: #f5bf53;
				opacity: 1;
				transform: scale(1);
			}
			.theme-toggle-icon.moon {
				color: #dfebf8;
				opacity: 0.4;
				transform: scale(0.88);
			}
			.theme-toggle-knob {
				position: absolute;
				top: 2px;
				left: 2px;
				width: 26px;
				height: 26px;
				border-radius: 999px;
				background: #ffffff;
				box-shadow: 0 3px 8px rgba(0, 0, 0, 0.28);
				transition: transform 0.25s ease, background-color 0.25s ease, box-shadow 0.25s ease;
			}
			.theme-toggle-btn:focus-visible .theme-toggle-track {
				outline: none;
				box-shadow: 0 0 0 3px rgba(160, 210, 255, 0.35), inset 0 0 0 1px rgba(255, 255, 255, 0.08);
			}
			html.theme-dark body,
			body.theme-dark {
				--brand-dark: #0b2f53;
				--brand-main: #175a94;
				--brand-soft: #15283b;
				--text-main: #e8f0fa;
				--text-soft: #adc0d4;
				--line-soft: #2d4258;
				--surface: #102030;
				--surface-alt: #0f1b29;
				--muted: #8ca3bb;
				background: #0d1a28 !important;
				background-image: none !important;
				color: var(--text-main);
			}
			html.theme-dark .theme-toggle-track,
			body.theme-dark .theme-toggle-track {
				background: rgba(3, 11, 20, 0.82);
				border-color: rgba(174, 207, 238, 0.6);
				box-shadow: inset 0 0 10px rgba(115, 176, 228, 0.2);
			}
			html.theme-dark .theme-toggle-knob,
			body.theme-dark .theme-toggle-knob {
				transform: translateX(28px);
				background: #dbe9f6;
				box-shadow: 0 3px 8px rgba(0, 0, 0, 0.45);
			}
			html.theme-dark .theme-toggle-icon.sun,
			body.theme-dark .theme-toggle-icon.sun {
				opacity: 0.4;
				transform: scale(0.88);
			}
			html.theme-dark .theme-toggle-icon.moon,
			body.theme-dark .theme-toggle-icon.moon {
				opacity: 1;
				color: #ffffff;
				transform: scale(1);
			}
			html.theme-dark .hero-card,
			body.theme-dark .hero-card {
				background: linear-gradient(145deg, #13263a 0, #0f1f31 100%);
				border-color: #2f455a;
				box-shadow: none !important;
			}
			html.theme-dark .clock-box,
			body.theme-dark .clock-box {
				border-color: #3a5872;
				background: #12283a;
			}
			html.theme-dark .clock-box-link:hover,
			html.theme-dark .clock-box-link:focus-visible,
			body.theme-dark .clock-box-link:hover,
			body.theme-dark .clock-box-link:focus-visible {
				border-color: #4f7597;
				box-shadow: 0 10px 20px rgba(0, 0, 0, 0.28);
			}
			html.theme-dark .mini-hint,
			html.theme-dark .clock-help-text,
			html.theme-dark .account-help,
			html.theme-dark .footer-note,
			body.theme-dark .mini-hint,
			body.theme-dark .clock-help-text,
			body.theme-dark .account-help,
			body.theme-dark .footer-note {
				color: #9cb1c7;
			}
			html.theme-dark .account-card,
			body.theme-dark .account-card {
				background: linear-gradient(180deg, #102133 0, #0f1b2a 100%);
				border-color: #30475d;
				box-shadow: 0 12px 24px rgba(0, 0, 0, 0.32);
			}
			html.theme-dark .account-card h3,
			body.theme-dark .account-card h3 {
				color: #dbe8f6;
			}
			html.theme-dark .account-card p,
			body.theme-dark .account-card p {
				color: #b2c3d5;
			}
			html.theme-dark .account-input,
			html.theme-dark .account-search-input,
			body.theme-dark .account-input,
			body.theme-dark .account-search-input {
				background: #0f2436;
				border-color: #3b5771;
				color: #e4edf8;
			}
			html.theme-dark .account-input:focus,
			html.theme-dark .account-search-input:focus,
			body.theme-dark .account-input:focus,
			body.theme-dark .account-search-input:focus {
				border-color: #66a7e4;
				box-shadow: 0 0 0 3px rgba(78, 141, 204, 0.2);
			}
			html.theme-dark .table-wrap,
			body.theme-dark .table-wrap {
				box-shadow: none !important;
			}
			html.theme-dark .main-shell,
			body.theme-dark .main-shell {
				background: #0d1a28 !important;
				background-image: none !important;
			}
			html.theme-dark header.hero,
			html.theme-dark body.theme-dark header.hero {
				background: transparent !important;
				background-image: none !important;
				border: 0 !important;
				box-shadow: none !important;
			}
			html.theme-dark main.pb-4,
			html.theme-dark body.theme-dark main.pb-4 {
				background: transparent !important;
				background-image: none !important;
				border: 0 !important;
				box-shadow: none !important;
			}
			html.theme-dark header.hero::before,
			html.theme-dark header.hero::after,
			html.theme-dark main.pb-4::before,
			html.theme-dark main.pb-4::after {
				content: none !important;
				background: none !important;
				box-shadow: none !important;
			}
			html.theme-dark .mini-card,
			html.theme-dark .action-card,
			html.theme-dark .account-card,
			body.theme-dark .mini-card,
			body.theme-dark .action-card,
			body.theme-dark .account-card {
				box-shadow: none !important;
			}
			html.theme-dark [class*="card"],
			html.theme-dark [class*="box"],
			html.theme-dark [class*="panel"],
			body.theme-dark [class*="card"],
			body.theme-dark [class*="box"],
			body.theme-dark [class*="panel"] {
				box-shadow: none !important;
			}
			html.theme-dark .table-custom thead th,
			body.theme-dark .table-custom thead th {
				color: #9bb2ca;
				border-color: #2d4559;
			}
			html.theme-dark .table-custom tbody td,
			body.theme-dark .table-custom tbody td {
				color: #c8d7e8;
				border-color: #24384b;
			}
			html.theme-dark .metric-modal-card,
			body.theme-dark .metric-modal-card {
				background: #0f1f30;
				border-color: #2d4257;
			}
			html.theme-dark .metric-legend,
			body.theme-dark .metric-legend {
				color: #aec0d5;
			}
			html.theme-dark .metric-legend .label,
			body.theme-dark .metric-legend .label {
				color: #d5e2f0;
			}
			html.theme-dark .metric-chart-wrap,
			body.theme-dark .metric-chart-wrap {
				background: linear-gradient(180deg, #132638 0, #101f2e 100%);
				border-color: #2f465c;
			}
			html.theme-dark .metric-chart-canvas,
			body.theme-dark .metric-chart-canvas {
				background: #0f1d2a;
			}
			html.theme-dark .metric-range-btn,
			body.theme-dark .metric-range-btn {
				background: #12283b;
				border-color: #3a5570;
				color: #d5e4f4;
			}
			html.theme-dark .metric-range-btn.active,
			body.theme-dark .metric-range-btn.active {
				background: linear-gradient(120deg, #2f79c1 0, #1b588f 100%);
				border-color: #4f8ac4;
				color: #ffffff;
			}
			html.theme-dark .account-notice.success,
			body.theme-dark .account-notice.success {
				background: #113026;
				border-color: #2d7359;
				color: #c5f3df;
			}
			html.theme-dark .account-notice.error,
			body.theme-dark .account-notice.error {
				background: #381f25;
				border-color: #8b4653;
				color: #ffd8de;
			}
			html.theme-dark .manage-modal-card,
			body.theme-dark .manage-modal-card {
				background: linear-gradient(180deg, #102030 0, #0f1b29 100%);
				border-color: #355067;
			}
			html.theme-dark .manage-modal-head,
			body.theme-dark .manage-modal-head {
				background: rgba(14, 45, 74, 0.95);
			}
			@media (max-width: 575.98px) {
				.theme-toggle-track {
					width: 56px;
					height: 32px;
				}
				.theme-toggle-knob {
					width: 24px;
					height: 24px;
				}
				html.theme-dark .theme-toggle-knob,
				body.theme-dark .theme-toggle-knob {
					transform: translateX(24px);
				}
			}
		</style>
		<script>
		(function () {
			var themeValue = "";
			try {
				themeValue = String(window.localStorage.getItem("home_index_theme") || "").toLowerCase();
			} catch (error) {}
			if (themeValue !== "dark" && themeValue !== "light") {
				var cookieMatch = document.cookie.match(/(?:^|;\s*)home_index_theme=(dark|light)\b/i);
				if (cookieMatch && cookieMatch[1]) {
					themeValue = String(cookieMatch[1]).toLowerCase();
				}
			}
			if (themeValue === "dark" || themeValue === "light") {
				try {
					window.localStorage.setItem("home_index_theme", themeValue);
				} catch (error) {}
				try {
					document.cookie = "home_index_theme=" + encodeURIComponent(themeValue) + ";path=/;max-age=31536000;SameSite=Lax";
				} catch (error) {}
			}
			if (themeValue === "dark") {
				document.documentElement.classList.add("theme-dark");
				document.documentElement.setAttribute("data-theme", "dark");
			} else if (themeValue === "light") {
				document.documentElement.classList.remove("theme-dark");
				document.documentElement.setAttribute("data-theme", "light");
			}
		})();
	</script>
	<script src="/src/assets/js/theme-global-init.js?v=20260225d"></script>
		<link rel="stylesheet" href="/src/assets/css/theme-global.css?v=20260225d">
</head>
	<body>
	<div class="main-shell">
		<nav class="topbar">
			<div class="topbar-container">
				<div class="topbar-inner">
					<a href="https://absenpanha.com/home" class="brand-block">
						<img class="brand-logo" src="https://absenpanha.com/src/assets/pns_logo_nav.png?v=b1f946dbe7be0c81b013a0dd917f9d14" alt="Logo Absen Online">
						<span class="brand-text">Dashboard Bos Absen</span>
						</a>
						<div class="nav-right">
							<button type="button" class="theme-toggle-btn" id="themeToggleButton" aria-label="Aktifkan mode malam" aria-pressed="false" title="Ganti ke mode malam">
								<span class="theme-toggle-track" aria-hidden="true">
									<i class="fa fa-sun-o theme-toggle-icon sun"></i>
									<i class="fa fa-moon-o theme-toggle-icon moon"></i>
									<span class="theme-toggle-knob"></span>
								</span>
							</button>
															<a href="https://absenpanha.com/home/log_data" class="logout">Log Data</a>
														<a href="https://absenpanha.com/logout" class="logout" id="adminLogoutLink">Logout</a>
						</div>
				</div>
			</div>
		</nav>

		<header class="hero">
			<div class="container-xl">
				<div class="hero-card">
					<div class="row g-3 align-items-center">
						<div class="col-lg-7">
							<p class="status-pill status-info" id="summaryStatusPill">Ringkasan Operasional Harian</p>
							<h1 class="hero-title">Halo, Bos. Selamat datang di Dashboard Absen.</h1>
							<p class="hero-subtitle">
								Kelola data kehadiran tim, sinkronisasi spreadsheet, dan operasional administrasi absensi dalam satu halaman kerja.
							</p>
						</div>
						<div class="col-lg-5">
							<div class="row g-2">
								<div class="col-sm-6">
									<div class="clock-box">
										<p class="clock-label">Tanggal Hari Ini</p>
										<p class="clock-value" id="currentDate">-</p>
									</div>
								</div>
								<div class="col-sm-6">
									<div class="clock-box">
										<p class="clock-label">Jam Sekarang</p>
										<p class="clock-value" id="currentTime">-</p>
									</div>
								</div>
								<div class="col-12">
									<a href="https://absenpanha.com/home/cara_pakai" class="clock-box clock-box-link" aria-label="Buka halaman Cara Pakai Dashboard">
										<p class="clock-label">Cara Pakai Dashboard</p>
										<p class="clock-value">Buka Panduan Lengkap</p>
										<p class="clock-help-text">Klik untuk lihat fungsi tombol, aturan potongan, dan alur sinkronisasi.</p>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</header>

		<main class="pb-4">
			<div class="container-xl">
				<section id="ringkasan-bulan" class="mb-4">
					<h2 class="section-title">Ringkasan Bulan Ini</h2>
					<div class="row g-3">
						<div class="col-sm-6 col-xl-3">
							<article class="mini-card is-clickable" role="button" tabindex="0" data-metric-card="hadir" aria-label="Lihat grafik Total Hadir">
								<p class="mini-label">Total Hadir</p>
								<p class="mini-value"><span id="summaryTotalHadir">102</span> Orang</p>
								<p class="mini-hint">Klik untuk lihat grafik realtime</p>
							</article>
						</div>
						<div class="col-sm-6 col-xl-3">
							<article class="mini-card is-clickable" role="button" tabindex="0" data-metric-card="terlambat" aria-label="Lihat grafik Total Terlambat">
								<p class="mini-label">Total Terlambat</p>
								<p class="mini-value"><span id="summaryTotalTerlambat">16</span> Orang</p>
								<p class="mini-hint">Klik untuk lihat grafik realtime</p>
							</article>
						</div>
						<div class="col-sm-6 col-xl-3">
							<article class="mini-card is-clickable" role="button" tabindex="0" data-metric-card="izin_cuti" aria-label="Lihat grafik Total Izin/Cuti">
								<p class="mini-label">Total Izin/Cuti</p>
								<p class="mini-value"><span id="summaryTotalIzin">0</span> Orang</p>
								<p class="mini-hint">Klik untuk lihat grafik realtime</p>
							</article>
						</div>
						<div class="col-sm-6 col-xl-3">
							<article class="mini-card is-clickable" role="button" tabindex="0" data-metric-card="alpha" aria-label="Lihat grafik Total Alpha">
								<p class="mini-label">Total Alpha</p>
								<p class="mini-value"><span id="summaryTotalAlpha">0</span> Orang</p>
								<p class="mini-hint">Klik untuk lihat grafik realtime</p>
							</article>
						</div>
					</div>
				</section>

				<section id="aksi-cepat" class="mb-4">
					<h2 class="section-title">Aksi Cepat</h2>
					<div class="action-grid">
						<article class="action-card">
							<h3 class="action-title">Data Lembur</h3>
							<p class="action-text">Input manual data lembur karyawan: nama, tanggal, jam lembur, nominal, dan alasan.</p>
							<a href="https://absenpanha.com/home/overtime_data" class="action-btn">Buka Data Lembur</a>
						</article>
						<article class="action-card">
							<h3 class="action-title">Pengajuan Pinjaman</h3>
							<p class="action-text">Lihat data pengajuan pinjaman yang dikirim oleh karyawan.</p>
							<a href="https://absenpanha.com/home/loan_requests" class="action-btn secondary">Buka Pinjaman</a>
						</article>
						<article class="action-card">
							<h3 class="action-title">Pengajuan Cuti / Izin</h3>
							<p class="action-text">Lihat seluruh data pengajuan cuti dan izin yang dikirim oleh karyawan.</p>
							<a href="https://absenpanha.com/home/leave_requests" class="action-btn">Buka Pengajuan</a>
						</article>
													<article class="action-card">
								<h3 class="action-title">Pengajuan Tukar Hari Libur</h3>
								<p class="action-text">Proses pengajuan tukar hari libur 1x dari karyawan (terima/tolak, dan hapus untuk Bos/Developer).</p>
								<a href="https://absenpanha.com/home/day_off_swap_requests" class="action-btn secondary">Buka Tukar Libur</a>
							</article>
												<article class="action-card">
							<h3 class="action-title">Cek Absensi Karyawan</h3>
							<p class="action-text">Lihat rekap absensi lengkap karyawan (masuk, pulang, telat, foto, dan jarak dari titik kantor).</p>
							<a href="https://absenpanha.com/home/employee_data" class="action-btn secondary">Buka Data Absen</a>
						</article>
					</div>
				</section>

				<section id="manajemen-karyawan" class="mb-4">
											<h2 class="section-title">Manajemen Akun Karyawan</h2>
					
															<div class="account-grid mb-3">
						<article class="account-card">
							<h3>Sinkronisasi Spreadsheet</h3>
															<p>Tarik data terbaru dari Google Sheet ke web (akun + Data Absen).</p>
														<div class="d-flex flex-wrap gap-2">
								<form method="post" action="https://absenpanha.com/home/prepare_sync_local_backup_now" class="sync-backup-control-form" data-sync-backup-form="1" data-sync-label="Backup Local Dulu (Wajib)">
									<button type="submit" class="account-submit">Backup Local Dulu (Wajib)</button>
								</form>
																	<form method="post" action="https://absenpanha.com/home/sync_sheet_accounts_now" class="sync-control-form" data-sync-direction="sheet_to_web_account" data-sync-label="Sync Akun dari Sheet">
										<button type="submit" class="account-submit">Sync Akun dari Sheet</button>
									</form>
																<form method="post" action="https://absenpanha.com/home/sync_sheet_attendance_now" class="sync-control-form" data-sync-direction="sheet_to_web_attendance" data-sync-label="Sync Data Absen dari Sheet" data-requires-backup="1">
									<button type="submit" class="account-submit" aria-disabled="true" title="Wajib backup local dulu sebelum sync.">Sync Data Absen dari Sheet</button>
								</form>
								<form method="post" action="https://absenpanha.com/home/sync_web_attendance_to_sheet_now" class="sync-control-form" data-sync-direction="web_to_sheet" data-sync-label="Sync Data Web ke Sheet" data-requires-backup="1">
									<button type="submit" class="account-submit" aria-disabled="true" title="Wajib backup local dulu sebelum sync.">Sync Data Web ke Sheet</button>
								</form>
								<form
									method="post"
									action="https://absenpanha.com/home/reset_total_alpha_now"
									class="sync-control-form"
									data-sync-direction="reset_total_alpha"
									data-sync-label="Reset Total Alpha"
									onsubmit="return window.confirm('Reset total alpha bulan berjalan? Aksi ini akan mengosongkan hitungan alpha di dashboard/grafik untuk tanggal yang sudah berjalan bulan ini.');"
								>
									<button type="submit" class="account-submit delete">Reset Total Alpha</button>
								</form>
							</div>
							<p class="text-secondary mb-0 mt-2">Belum ada backup lokal aktif. Klik &quot;Backup Local Dulu (Wajib)&quot; sebelum sync.</p>
						</article>
					</div>

					
											<div class="account-grid mb-3">
							<article class="account-card">
								<h3>Aksi Manajemen Akun</h3>
								<p>Pilih tombol untuk membuka pop up form sesuai kebutuhan.</p>
								<div class="account-action-grid">
									<button type="button" class="account-action-btn" data-manage-modal-open="employeeCreateModal">Buat Akun Karyawan Baru</button>
									<button type="button" class="account-action-btn secondary" data-manage-modal-open="employeeManageModal">Hapus / Edit Akun Karyawan</button>
																			<button type="button" class="account-action-btn" data-manage-modal-open="privilegedManageModal">Kelola Akun Privileged</button>
																	</div>
							</article>
						</div>

						<div class="manage-modal" id="employeeCreateModal" data-manage-modal aria-hidden="true" role="dialog" aria-labelledby="employeeCreateModalTitle">
							<div class="manage-modal-card">
								<div class="manage-modal-head">
									<h3 class="manage-modal-title" id="employeeCreateModalTitle">Buat Akun Karyawan Baru</h3>
									<button type="button" class="manage-modal-close" data-manage-modal-close aria-label="Tutup popup">&times;</button>
								</div>
								<div class="manage-modal-body" id="employeeCreateModalBody"></div>
							</div>
						</div>

						<div class="manage-modal" id="employeeManageModal" data-manage-modal aria-hidden="true" role="dialog" aria-labelledby="employeeManageModalTitle">
							<div class="manage-modal-card">
								<div class="manage-modal-head">
									<h3 class="manage-modal-title" id="employeeManageModalTitle">Hapus / Edit Akun Karyawan</h3>
									<button type="button" class="manage-modal-close" data-manage-modal-close aria-label="Tutup popup">&times;</button>
								</div>
								<div class="manage-modal-body manage-modal-grid two-col" id="employeeManageModalBody"></div>
							</div>
						</div>

													<div class="manage-modal" id="privilegedManageModal" data-manage-modal aria-hidden="true" role="dialog" aria-labelledby="privilegedManageModalTitle">
								<div class="manage-modal-card">
									<div class="manage-modal-head">
										<h3 class="manage-modal-title" id="privilegedManageModalTitle">Kelola Akun Privileged</h3>
										<button type="button" class="manage-modal-close" data-manage-modal-close aria-label="Tutup popup">&times;</button>
									</div>
									<div class="manage-modal-body manage-modal-grid two-col" id="privilegedManageModalBody"></div>
								</div>
							</div>
						
						<div class="account-grid mb-3 manage-source-block" id="manageAccountSourceWrap">
							<div class="account-column-stack">
								<article class="account-card" id="createEmployeeSourceCard">
									<h3>Buat Akun Karyawan Baru</h3>
									<p>Akun dengan izin kelola akun bisa menambahkan akun login karyawan langsung dari dashboard.</p>
									<form method="post" action="https://absenpanha.com/home/create_employee_account" class="account-form" enctype="multipart/form-data">
									<div>
										<p class="account-label">Username</p>
										<input type="text" name="new_username" id="newUsernameInput" class="account-input" placeholder="contoh: userbaru" autocomplete="off" autocapitalize="off" spellcheck="false" required>
									</div>
									<div>
										<p class="account-label">Nama Lengkap</p>
										<input type="text" name="new_display_name" class="account-input" placeholder="contoh: Muhammad Ridwan K." autocomplete="off" required>
									</div>
									<div class="account-form-row two">
										<div>
											<p class="account-label">Password</p>
											<input type="text" name="new_password" class="account-input" placeholder="minimal 3 karakter" required>
										</div>
										<div>
											<p class="account-label">No Telp</p>
											<input type="text" name="new_phone" class="account-input" placeholder="08xxxxxxxxxx" required>
										</div>
									</div>
									<div class="account-form-row two">
										<div>
											<p class="account-label">Cabang</p>
											<select name="new_branch" class="account-input" required>
																																																			<option value="Baros" selected>
														Baros													</option>
																																																			<option value="Cadasari">
														Cadasari													</option>
																							</select>
										</div>
										<div>
											<p class="account-label">Shift</p>
											<select name="new_shift" class="account-input" required>
												<option value="pagi">Shift Pagi - Sore (08:00 - 17:00)</option>
												<option value="siang">Shift Siang - Malam (14:00 - 23:00)</option>
												<option value="multishift">Multi Shift (08:00 - 23:59)</option>
											</select>
										</div>
									</div>
									<div>
										<p class="account-label">Lintas Cabang</p>
										<select name="new_cross_branch_enabled" class="account-input" required>
											<option value="0" selected>Tidak</option>
											<option value="1">Iya</option>
										</select>
									</div>
									<div class="account-form-row two">
										<div>
											<p class="account-label">Gaji Pokok (Rp)</p>
											<input type="text" name="new_salary_monthly" class="account-input" placeholder="contoh: 2500000" required>
										</div>
										<div>
											<p class="account-label">Hari Libur Mingguan</p>
											<select name="new_weekly_day_off" class="account-input" required>
																																						<option value="1" selected>
														Senin													</option>
																																						<option value="2">
														Selasa													</option>
																																						<option value="3">
														Rabu													</option>
																																						<option value="4">
														Kamis													</option>
																																						<option value="5">
														Jumat													</option>
																																						<option value="6">
														Sabtu													</option>
																																						<option value="7">
														Minggu													</option>
																							</select>
										</div>
									</div>
									<div>
										<p class="account-label">Jabatan</p>
										<select name="new_job_title" class="account-input" required>
																																															<option value="NOC">
													NOC												</option>
																																															<option value="Admin">
													Admin												</option>
																																															<option value="Koordinator">
													Koordinator												</option>
																																															<option value="Teknisi" selected>
													Teknisi												</option>
																																															<option value="Marketing">
													Marketing												</option>
																																															<option value="Debt Collector">
													Debt Collector												</option>
																																															<option value="Magang">
													Magang												</option>
																					</select>
									</div>
									<div>
										<p class="account-label">Alamat</p>
										<input type="text" name="new_address" class="account-input" placeholder="Kp. Kesekian Kalinya, Pandenglang, Banten">
									</div>
									<div class="account-form-row two">
										<div>
											<p class="account-label">Titik Koordinat</p>
											<input type="text" name="new_coordinate_point" class="account-input" placeholder="-6.217076, 106.132128" required>
										</div>
										<div>
											<p class="account-label">Upload PP (Wajib)</p>
											<input type="file" name="new_profile_photo" class="account-input" accept=".png,.jpg,.jpeg,.webp,.jfif,.jpe,.heic,.heif" required>
										</div>
									</div>
										<button type="submit" class="account-submit">Simpan Akun Baru</button>
									</form>
								</article>

																	<article class="account-card" id="privilegedRenameSourceCard">
										<h3>Ganti Nama Akun Admin</h3>
										<p>Khusus Developer/Bos. Ubah nama tampilan akun admin untuk login dashboard.</p>
										<form method="post" action="https://absenpanha.com/home/update_privileged_account_display_name" class="account-form">
											<input type="hidden" name="target_account" value="admin">
											<div>
												<p class="account-label">Nama Baru Akun Admin</p>
												<input type="text" name="new_display_name" class="account-input" placeholder="contoh: Admin Operasional" autocomplete="off" required>
											</div>
											<button type="submit" class="account-submit">Simpan Nama Admin</button>
										</form>
									</article>

									<article class="account-card" id="privilegedPasswordSourceCard">
										<h3>Ganti Informasi Akun Privileged</h3>
										<p>Khusus Developer/Bos. Bisa ubah username login admin, nama akun, dan/atau password akun admin. Username akun developer/bos tetap tidak bisa diubah. Bos tidak bisa mengubah akun developer.</p>
										<form method="post" action="https://absenpanha.com/home/update_privileged_account_password" class="account-form">
											<div>
												<p class="account-label">Target Akun</p>
												<select name="target_account" class="account-input" required>
																																									<option value="admin">Admin Baros (adminbaros)</option>
																																									<option value="bos">Bos (bos)</option>
																																									<option value="admin_cadasari">Admin Cadasari (admin_cadasari)</option>
																																									<option value="finance">Finance Yoga (finance)</option>
																									</select>
											</div>
											<div>
												<p class="account-label">Username Baru (Opsional)</p>
												<input type="text" name="new_username" id="privilegedNewUsernameInput" class="account-input" placeholder="contoh: admin_ops_baru" autocomplete="off" autocapitalize="off" spellcheck="false">
											</div>
											<div>
												<p class="account-label">Nama Baru (Opsional)</p>
												<input type="text" name="new_display_name" class="account-input" placeholder="Kosongkan jika tidak diubah" autocomplete="off">
											</div>
											<div class="account-form-row two">
												<div>
													<p class="account-label">Password Baru (Opsional)</p>
													<input type="text" name="new_password" class="account-input" placeholder="Kosongkan jika tidak diubah">
												</div>
												<div>
													<p class="account-label">Konfirmasi Password</p>
													<input type="text" name="confirm_password" class="account-input" placeholder="Isi jika password diubah">
												</div>
											</div>
											<button type="submit" class="account-submit">Simpan Informasi</button>
										</form>
									</article>

									<article class="account-card" id="privilegedCreateSourceCard">
										<h3>Buat Akun Admin Fitur</h3>
										<p>Khusus Developer/Bos. Buat akun admin custom dan pilih fitur yang diizinkan.</p>
										<form method="post" action="https://absenpanha.com/home/create_feature_admin_account" class="account-form">
											<div>
												<p class="account-label">Username</p>
												<input type="text" name="feature_admin_username" class="account-input" placeholder="contoh: admin_ops" autocomplete="off" autocapitalize="off" spellcheck="false" required>
											</div>
											<div>
												<p class="account-label">Nama Lengkap</p>
												<input type="text" name="feature_admin_display_name" class="account-input" placeholder="contoh: Admin Operasional" autocomplete="off" required>
											</div>
											<div>
												<p class="account-label">Password</p>
												<input type="text" name="feature_admin_password" class="account-input" placeholder="minimal 3 karakter" required>
											</div>
											<div>
												<p class="account-label">Fitur Akses</p>
												<div class="d-flex flex-column gap-2">
																																																							<label class="d-flex align-items-center gap-2">
															<input type="checkbox" name="feature_permissions[]" value="manage_accounts">
															<span>Kelola akun karyawan</span>
														</label>
																																																							<label class="d-flex align-items-center gap-2">
															<input type="checkbox" name="feature_permissions[]" value="sync_sheet_accounts">
															<span>Sync akun dari sheet</span>
														</label>
																																																							<label class="d-flex align-items-center gap-2">
															<input type="checkbox" name="feature_permissions[]" value="view_log_data">
															<span>Akses log data</span>
														</label>
																																																							<label class="d-flex align-items-center gap-2">
															<input type="checkbox" name="feature_permissions[]" value="edit_attendance_records">
															<span>Edit data absensi karyawan</span>
														</label>
																																																							<label class="d-flex align-items-center gap-2">
															<input type="checkbox" name="feature_permissions[]" value="delete_attendance_records">
															<span>Hapus data absensi karyawan</span>
														</label>
																																																							<label class="d-flex align-items-center gap-2">
															<input type="checkbox" name="feature_permissions[]" value="process_day_off_swap_requests">
															<span>Proses pengajuan tukar hari libur</span>
														</label>
																																																							<label class="d-flex align-items-center gap-2">
															<input type="checkbox" name="feature_permissions[]" value="process_leave_requests">
															<span>Proses pengajuan cuti / izin</span>
														</label>
																																																							<label class="d-flex align-items-center gap-2">
															<input type="checkbox" name="feature_permissions[]" value="delete_leave_requests">
															<span>Hapus pengajuan cuti / izin</span>
														</label>
																																																							<label class="d-flex align-items-center gap-2">
															<input type="checkbox" name="feature_permissions[]" value="process_loan_requests">
															<span>Proses pengajuan pinjaman</span>
														</label>
																																																							<label class="d-flex align-items-center gap-2">
															<input type="checkbox" name="feature_permissions[]" value="delete_loan_requests">
															<span>Hapus pengajuan pinjaman</span>
														</label>
																									</div>
											</div>
											<button type="submit" class="account-submit">Simpan Akun Fitur</button>
										</form>
									</article>
															</div>

							<div class="account-column-stack">
								<article class="account-card" id="employeeDeleteSourceCard">
									<h3>Hapus Akun Karyawan</h3>
									<p>Pilih akun yang ingin dihapus. Data absen, cuti/izin, pinjaman, dan lembur karyawan tersebut juga akan dibersihkan.</p>
									<form method="post" action="https://absenpanha.com/home/delete_employee_account" class="account-form" id="deleteEmployeeForm">
									<div>
										<p class="account-label">Pilih Karyawan</p>
										<input
											type="text"
											name="delete_username"
											id="deleteUsernameInput"
											class="account-input"
											list="deleteEmployeeUsernameList"
											placeholder="Cari ID atau username karyawan"
											autocomplete="off"
											required
										>
										<datalist id="deleteEmployeeUsernameList">
																																			<option value="acep" label="01 - acep"></option>
																									<option value="01 - acep"></option>
																																															<option value="andi" label="02 - andi"></option>
																									<option value="02 - andi"></option>
																																															<option value="andini" label="03 - andini"></option>
																									<option value="03 - andini"></option>
																																															<option value="ardi" label="04 - ardi"></option>
																									<option value="04 - ardi"></option>
																																															<option value="arifuddin" label="05 - arifuddin"></option>
																									<option value="05 - arifuddin"></option>
																																															<option value="asep" label="06 - asep"></option>
																									<option value="06 - asep"></option>
																																															<option value="azri" label="07 - azri"></option>
																									<option value="07 - azri"></option>
																																															<option value="caca" label="08 - caca"></option>
																									<option value="08 - caca"></option>
																																															<option value="dedi" label="09 - dedi"></option>
																									<option value="09 - dedi"></option>
																																															<option value="deni" label="10 - deni"></option>
																									<option value="10 - deni"></option>
																																															<option value="desti" label="11 - desti"></option>
																									<option value="11 - desti"></option>
																																															<option value="efaria" label="12 - efaria"></option>
																									<option value="12 - efaria"></option>
																																															<option value="ferdi" label="13 - ferdi"></option>
																									<option value="13 - ferdi"></option>
																																															<option value="fide" label="14 - fide"></option>
																									<option value="14 - fide"></option>
																																															<option value="hendra" label="15 - hendra"></option>
																									<option value="15 - hendra"></option>
																																															<option value="hilmi" label="16 - hilmi"></option>
																									<option value="16 - hilmi"></option>
																																															<option value="inayah" label="17 - inayah"></option>
																									<option value="17 - inayah"></option>
																																															<option value="jaelani" label="18 - jaelani"></option>
																									<option value="18 - jaelani"></option>
																																															<option value="kaisar" label="19 - kaisar"></option>
																									<option value="19 - kaisar"></option>
																																															<option value="madromin" label="20 - madromin"></option>
																									<option value="20 - madromin"></option>
																																															<option value="malong" label="21 - malong"></option>
																									<option value="21 - malong"></option>
																																															<option value="maulana" label="22 - maulana"></option>
																									<option value="22 - maulana"></option>
																																															<option value="murodi" label="23 - murodi"></option>
																									<option value="23 - murodi"></option>
																																															<option value="rahmatullah" label="24 - rahmatullah"></option>
																									<option value="24 - rahmatullah"></option>
																																															<option value="rian" label="25 - rian"></option>
																									<option value="25 - rian"></option>
																																															<option value="ridwan" label="26 - ridwan"></option>
																									<option value="26 - ridwan"></option>
																																															<option value="rizal" label="27 - rizal"></option>
																									<option value="27 - rizal"></option>
																																															<option value="supriatna" label="28 - supriatna"></option>
																									<option value="28 - supriatna"></option>
																																															<option value="syifa" label="29 - syifa"></option>
																									<option value="29 - syifa"></option>
																																															<option value="wildan" label="30 - wildan"></option>
																									<option value="30 - wildan"></option>
																																															<option value="yatna" label="31 - yatna"></option>
																									<option value="31 - yatna"></option>
																																															<option value="yoga" label="32 - yoga"></option>
																									<option value="32 - yoga"></option>
																																															<option value="yudi" label="33 - yudi"></option>
																									<option value="33 - yudi"></option>
																																															<option value="yusuf" label="34 - yusuf"></option>
																									<option value="34 - yusuf"></option>
																																	</datalist>
									</div>
										<input type="hidden" name="expected_version" id="deleteExpectedVersionInput" value="1">
										<button type="submit" class="account-submit delete">Hapus Akun</button>
									</form>
								</article>

								<article class="account-card" id="employeeEditSourceCard">
									<h3>Edit Akun Karyawan</h3>
									<p>Ubah data akun karyawan terpilih. Password boleh dikosongkan jika tidak ingin diubah.</p>
									<form method="post" action="https://absenpanha.com/home/update_employee_account" class="account-form" id="editEmployeeForm" enctype="multipart/form-data">
									<div>
										<p class="account-label">Pilih Karyawan</p>
										<input
											type="text"
											name="edit_username"
											id="editUsernameInput"
											class="account-input"
											list="editEmployeeUsernameList"
											placeholder="Cari ID atau username karyawan"
											autocomplete="off"
											required
										>
										<datalist id="editEmployeeUsernameList">
																																			<option value="acep" label="01 - acep"></option>
																									<option value="01 - acep"></option>
																																															<option value="andi" label="02 - andi"></option>
																									<option value="02 - andi"></option>
																																															<option value="andini" label="03 - andini"></option>
																									<option value="03 - andini"></option>
																																															<option value="ardi" label="04 - ardi"></option>
																									<option value="04 - ardi"></option>
																																															<option value="arifuddin" label="05 - arifuddin"></option>
																									<option value="05 - arifuddin"></option>
																																															<option value="asep" label="06 - asep"></option>
																									<option value="06 - asep"></option>
																																															<option value="azri" label="07 - azri"></option>
																									<option value="07 - azri"></option>
																																															<option value="caca" label="08 - caca"></option>
																									<option value="08 - caca"></option>
																																															<option value="dedi" label="09 - dedi"></option>
																									<option value="09 - dedi"></option>
																																															<option value="deni" label="10 - deni"></option>
																									<option value="10 - deni"></option>
																																															<option value="desti" label="11 - desti"></option>
																									<option value="11 - desti"></option>
																																															<option value="efaria" label="12 - efaria"></option>
																									<option value="12 - efaria"></option>
																																															<option value="ferdi" label="13 - ferdi"></option>
																									<option value="13 - ferdi"></option>
																																															<option value="fide" label="14 - fide"></option>
																									<option value="14 - fide"></option>
																																															<option value="hendra" label="15 - hendra"></option>
																									<option value="15 - hendra"></option>
																																															<option value="hilmi" label="16 - hilmi"></option>
																									<option value="16 - hilmi"></option>
																																															<option value="inayah" label="17 - inayah"></option>
																									<option value="17 - inayah"></option>
																																															<option value="jaelani" label="18 - jaelani"></option>
																									<option value="18 - jaelani"></option>
																																															<option value="kaisar" label="19 - kaisar"></option>
																									<option value="19 - kaisar"></option>
																																															<option value="madromin" label="20 - madromin"></option>
																									<option value="20 - madromin"></option>
																																															<option value="malong" label="21 - malong"></option>
																									<option value="21 - malong"></option>
																																															<option value="maulana" label="22 - maulana"></option>
																									<option value="22 - maulana"></option>
																																															<option value="murodi" label="23 - murodi"></option>
																									<option value="23 - murodi"></option>
																																															<option value="rahmatullah" label="24 - rahmatullah"></option>
																									<option value="24 - rahmatullah"></option>
																																															<option value="rian" label="25 - rian"></option>
																									<option value="25 - rian"></option>
																																															<option value="ridwan" label="26 - ridwan"></option>
																									<option value="26 - ridwan"></option>
																																															<option value="rizal" label="27 - rizal"></option>
																									<option value="27 - rizal"></option>
																																															<option value="supriatna" label="28 - supriatna"></option>
																									<option value="28 - supriatna"></option>
																																															<option value="syifa" label="29 - syifa"></option>
																									<option value="29 - syifa"></option>
																																															<option value="wildan" label="30 - wildan"></option>
																									<option value="30 - wildan"></option>
																																															<option value="yatna" label="31 - yatna"></option>
																									<option value="31 - yatna"></option>
																																															<option value="yoga" label="32 - yoga"></option>
																									<option value="32 - yoga"></option>
																																															<option value="yudi" label="33 - yudi"></option>
																									<option value="33 - yudi"></option>
																																															<option value="yusuf" label="34 - yusuf"></option>
																									<option value="34 - yusuf"></option>
																																	</datalist>
									</div>
									<div>
										<p class="account-label">Username</p>
										<input type="text" name="edit_new_username" id="editNewUsernameInput" class="account-input" placeholder="contoh: userbaru" autocomplete="off" autocapitalize="off" spellcheck="false" required>
									</div>
									<div>
										<p class="account-label">Nama Lengkap</p>
										<input type="text" name="edit_display_name" id="editDisplayNameInput" class="account-input" placeholder="contoh: Muhammad Ridwan K." autocomplete="off" required>
									</div>
									<div class="account-form-row two">
										<div>
											<p class="account-label">Password Baru (Opsional)</p>
											<input type="text" name="edit_password" id="editPasswordInput" class="account-input" placeholder="Kosongkan jika tidak diubah">
										</div>
										<div>
											<p class="account-label">No Telp</p>
											<input type="text" name="edit_phone" id="editPhoneInput" class="account-input" placeholder="08xxxxxxxxxx" required>
										</div>
									</div>
									<div class="account-form-row two">
										<div>
											<p class="account-label">Cabang</p>
											<select name="edit_branch" id="editBranchInput" class="account-input" required>
																																																			<option value="Baros" selected>
														Baros													</option>
																																																			<option value="Cadasari">
														Cadasari													</option>
																							</select>
										</div>
										<div>
											<p class="account-label">Shift</p>
											<select name="edit_shift" id="editShiftInput" class="account-input" required>
												<option value="pagi">Shift Pagi - Sore (08:00 - 17:00)</option>
												<option value="siang">Shift Siang - Malam (14:00 - 23:00)</option>
												<option value="multishift">Multi Shift (08:00 - 23:59)</option>
											</select>
										</div>
									</div>
									<div>
										<p class="account-label">Lintas Cabang</p>
										<select name="edit_cross_branch_enabled" id="editCrossBranchInput" class="account-input" required>
											<option value="0">Tidak</option>
											<option value="1">Iya</option>
										</select>
									</div>
									<div>
										<p class="account-label">Gaji Pokok (Rp)</p>
										<input type="text" name="edit_salary_monthly" id="editSalaryMonthlyInput" class="account-input" placeholder="contoh: 2500000" required>
									</div>
									<div>
										<p class="account-label">Jabatan</p>
										<select name="edit_job_title" id="editJobTitleInput" class="account-input" required>
																																															<option value="NOC">
													NOC												</option>
																																															<option value="Admin">
													Admin												</option>
																																															<option value="Koordinator">
													Koordinator												</option>
																																															<option value="Teknisi" selected>
													Teknisi												</option>
																																															<option value="Marketing">
													Marketing												</option>
																																															<option value="Debt Collector">
													Debt Collector												</option>
																																															<option value="Magang">
													Magang												</option>
																					</select>
									</div>
									<div>
										<p class="account-label">Hari Libur Mingguan</p>
										<select name="edit_weekly_day_off" id="editWeeklyDayOffInput" class="account-input" required>
																																			<option value="1" selected>
													Senin												</option>
																																			<option value="2">
													Selasa												</option>
																																			<option value="3">
													Rabu												</option>
																																			<option value="4">
													Kamis												</option>
																																			<option value="5">
													Jumat												</option>
																																			<option value="6">
													Sabtu												</option>
																																			<option value="7">
													Minggu												</option>
																					</select>
									</div>
									<div>
										<p class="account-label">Hari Kerja Khusus (Opsional)</p>
										<div class="d-flex flex-wrap gap-2">
																																			<label class="d-inline-flex align-items-center gap-1 px-2 py-1 border rounded-2 bg-white">
													<input
														type="checkbox"
														name="edit_custom_allowed_weekdays[]"
														id="editCustomAllowedWeekday1"
														value="1"
														data-edit-custom-weekday
													>
													<span class="small">Senin</span>
												</label>
																																			<label class="d-inline-flex align-items-center gap-1 px-2 py-1 border rounded-2 bg-white">
													<input
														type="checkbox"
														name="edit_custom_allowed_weekdays[]"
														id="editCustomAllowedWeekday2"
														value="2"
														data-edit-custom-weekday
													>
													<span class="small">Selasa</span>
												</label>
																																			<label class="d-inline-flex align-items-center gap-1 px-2 py-1 border rounded-2 bg-white">
													<input
														type="checkbox"
														name="edit_custom_allowed_weekdays[]"
														id="editCustomAllowedWeekday3"
														value="3"
														data-edit-custom-weekday
													>
													<span class="small">Rabu</span>
												</label>
																																			<label class="d-inline-flex align-items-center gap-1 px-2 py-1 border rounded-2 bg-white">
													<input
														type="checkbox"
														name="edit_custom_allowed_weekdays[]"
														id="editCustomAllowedWeekday4"
														value="4"
														data-edit-custom-weekday
													>
													<span class="small">Kamis</span>
												</label>
																																			<label class="d-inline-flex align-items-center gap-1 px-2 py-1 border rounded-2 bg-white">
													<input
														type="checkbox"
														name="edit_custom_allowed_weekdays[]"
														id="editCustomAllowedWeekday5"
														value="5"
														data-edit-custom-weekday
													>
													<span class="small">Jumat</span>
												</label>
																																			<label class="d-inline-flex align-items-center gap-1 px-2 py-1 border rounded-2 bg-white">
													<input
														type="checkbox"
														name="edit_custom_allowed_weekdays[]"
														id="editCustomAllowedWeekday6"
														value="6"
														data-edit-custom-weekday
													>
													<span class="small">Sabtu</span>
												</label>
																																			<label class="d-inline-flex align-items-center gap-1 px-2 py-1 border rounded-2 bg-white">
													<input
														type="checkbox"
														name="edit_custom_allowed_weekdays[]"
														id="editCustomAllowedWeekday7"
														value="7"
														data-edit-custom-weekday
													>
													<span class="small">Minggu</span>
												</label>
																					</div>
										<p class="account-help mb-0">Jika dipilih, karyawan hanya bisa absen di hari yang dicentang.</p>
									</div>
									<div class="account-form-row two">
										<div>
											<p class="account-label">Libur Khusus (Dari)</p>
											<input type="date" name="edit_custom_off_start_date" id="editCustomOffStartDateInput" class="account-input">
										</div>
										<div>
											<p class="account-label">Libur Khusus (Sampai)</p>
											<input type="date" name="edit_custom_off_end_date" id="editCustomOffEndDateInput" class="account-input">
										</div>
									</div>
									<div class="account-form-row two">
										<div>
											<p class="account-label">Masuk Khusus (Dari)</p>
											<input type="date" name="edit_custom_work_start_date" id="editCustomWorkStartDateInput" class="account-input">
										</div>
										<div>
											<p class="account-label">Masuk Khusus (Sampai)</p>
											<input type="date" name="edit_custom_work_end_date" id="editCustomWorkEndDateInput" class="account-input">
										</div>
									</div>
									<div>
										<p class="account-label">Alamat</p>
										<input type="text" name="edit_address" id="editAddressInput" class="account-input" placeholder="Kp. Kesekian Kalinya, Pandenglang, Banten">
									</div>
									<div>
										<p class="account-label">Ganti PP (Opsional)</p>
										<input type="file" name="edit_profile_photo" id="editProfilePhotoInput" class="account-input" accept=".png,.jpg,.jpeg,.webp,.jfif,.jpe,.heic,.heif">
									</div>
										<input type="hidden" name="edit_custom_schedule_present" value="1">
										<input type="hidden" name="expected_version" id="editExpectedVersionInput" value="1">
										<button type="submit" class="account-submit">Simpan Perubahan Akun</button>
									</form>
								</article>
																	<article class="account-card" id="privilegedFeatureSourceCard">
										<h3>Edit Fitur Akun</h3>
										<p>Khusus Developer/Bos. Developer bisa mengubah fitur akun bos/admin. Bos tidak bisa mengubah fitur akun developer.</p>
																					<form method="post" action="https://absenpanha.com/home/update_feature_admin_account_permissions" class="account-form" id="editFeatureAdminForm">
												<div>
													<p class="account-label">Target Akun</p>
													<select name="feature_target_account" id="featureTargetAccountInput" class="account-input" required>
																																												<option value="admin">Admin Baros (admin)</option>
																																												<option value="admin_cadasari">Admin Cadasari (admin_cadasari)</option>
																																												<option value="finance">Finance Yoga (finance)</option>
																											</select>
												</div>
												<div>
													<p class="account-label">Fitur Akses</p>
													<div class="d-flex flex-column gap-2">
																																																											<label class="d-flex align-items-center gap-2">
																<input type="checkbox" name="feature_permissions[]" value="manage_accounts" data-feature-permission-checkbox>
																<span>Kelola akun karyawan</span>
															</label>
																																																											<label class="d-flex align-items-center gap-2">
																<input type="checkbox" name="feature_permissions[]" value="sync_sheet_accounts" data-feature-permission-checkbox>
																<span>Sync akun dari sheet</span>
															</label>
																																																											<label class="d-flex align-items-center gap-2">
																<input type="checkbox" name="feature_permissions[]" value="view_log_data" data-feature-permission-checkbox>
																<span>Akses log data</span>
															</label>
																																																											<label class="d-flex align-items-center gap-2">
																<input type="checkbox" name="feature_permissions[]" value="edit_attendance_records" data-feature-permission-checkbox>
																<span>Edit data absensi karyawan</span>
															</label>
																																																											<label class="d-flex align-items-center gap-2">
																<input type="checkbox" name="feature_permissions[]" value="delete_attendance_records" data-feature-permission-checkbox>
																<span>Hapus data absensi karyawan</span>
															</label>
																																																											<label class="d-flex align-items-center gap-2">
																<input type="checkbox" name="feature_permissions[]" value="process_day_off_swap_requests" data-feature-permission-checkbox>
																<span>Proses pengajuan tukar hari libur</span>
															</label>
																																																											<label class="d-flex align-items-center gap-2">
																<input type="checkbox" name="feature_permissions[]" value="process_leave_requests" data-feature-permission-checkbox>
																<span>Proses pengajuan cuti / izin</span>
															</label>
																																																											<label class="d-flex align-items-center gap-2">
																<input type="checkbox" name="feature_permissions[]" value="delete_leave_requests" data-feature-permission-checkbox>
																<span>Hapus pengajuan cuti / izin</span>
															</label>
																																																											<label class="d-flex align-items-center gap-2">
																<input type="checkbox" name="feature_permissions[]" value="process_loan_requests" data-feature-permission-checkbox>
																<span>Proses pengajuan pinjaman</span>
															</label>
																																																											<label class="d-flex align-items-center gap-2">
																<input type="checkbox" name="feature_permissions[]" value="delete_loan_requests" data-feature-permission-checkbox>
																<span>Hapus pengajuan pinjaman</span>
															</label>
																											</div>
												</div>
												<button type="submit" class="account-submit">Simpan Fitur</button>
											</form>
																			</article>
															</div>
						</div>

						<div class="table-wrap">
															<div class="account-table-toolbar">
									<input
										type="text"
										id="employeeAccountSearchInput"
										class="account-search-input"
										placeholder="Cari ID atau nama karyawan"
										autocomplete="off"
									>
								</div>
														<div class="table-responsive">
								<table class="table table-custom account-table">
									<thead>
										<tr>
											<th>ID</th>
											<th>Username</th>
											<th>Jabatan</th>
											<th>Telp</th>
											<th>Cabang</th>
											<th>Shift</th>
											<th>Gaji Pokok</th>
										</tr>
									</thead>
									<tbody id="employeeAccountTableBody">
																																	<tr class="employee-account-row">
													<td>01</td>
													<td>acep</td>
													<td>Teknisi</td>
													<td>6283142223118</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 3.550.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>02</td>
													<td>andi</td>
													<td>Teknisi</td>
													<td>6283897823902</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 1.000.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>03</td>
													<td>andini</td>
													<td>Admin</td>
													<td>6281527877422</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 2.700.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>04</td>
													<td>ardi</td>
													<td>Teknisi</td>
													<td>6287773304611</td>
													<td>Baros</td>
													<td>Shift Siang - Malam</td>
													<td>
														Rp 4.050.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>05</td>
													<td>arifuddin</td>
													<td>Teknisi</td>
													<td>6287871046665</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 2.200.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>06</td>
													<td>asep</td>
													<td>Teknisi</td>
													<td>6283845338450</td>
													<td>Cadasari</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 2.200.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>07</td>
													<td>azri</td>
													<td>Debt Collector</td>
													<td>6283894635072</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 1.000.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>08</td>
													<td>caca</td>
													<td>Marketing</td>
													<td>6282213305364</td>
													<td>Baros</td>
													<td>Multi Shift</td>
													<td>
														Rp 1.300.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>09</td>
													<td>dedi</td>
													<td>Teknisi</td>
													<td>6281380796399</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 4.150.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>10</td>
													<td>deni</td>
													<td>Teknisi</td>
													<td>6283159487001</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 3.550.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>11</td>
													<td>desti</td>
													<td>Admin</td>
													<td>6281289324775</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 3.130.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>12</td>
													<td>efaria</td>
													<td>Teknisi</td>
													<td>6285210304220</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 4.150.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>13</td>
													<td>ferdi</td>
													<td>Teknisi</td>
													<td>6289627387346</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 4.050.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>14</td>
													<td>fide</td>
													<td>Magang</td>
													<td>6285885960661</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 1.000.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>15</td>
													<td>hendra</td>
													<td>Magang</td>
													<td>6281383685517</td>
													<td>Baros</td>
													<td>Shift Siang - Malam</td>
													<td>
														Rp 750.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>16</td>
													<td>hilmi</td>
													<td>Marketing</td>
													<td>6282299096547</td>
													<td>Cadasari</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 1.000.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>17</td>
													<td>inayah</td>
													<td>Marketing</td>
													<td>628981611559</td>
													<td>Cadasari</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 1.000.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>18</td>
													<td>jaelani</td>
													<td>Teknisi</td>
													<td>6283841232161</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 2.600.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>19</td>
													<td>kaisar</td>
													<td>NOC</td>
													<td>6281282608728</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 4.000.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>20</td>
													<td>madromin</td>
													<td>Teknisi</td>
													<td>6283894914309</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 1.800.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>21</td>
													<td>malong</td>
													<td>Debt Collector</td>
													<td>6281292658250</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 1.500.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>22</td>
													<td>maulana</td>
													<td>Teknisi</td>
													<td>6285880001070</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 2.500.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>23</td>
													<td>murodi</td>
													<td>Admin</td>
													<td>6285817050915</td>
													<td>Baros</td>
													<td>Multi Shift</td>
													<td>
														Rp 3.800.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>24</td>
													<td>rahmatullah</td>
													<td>Teknisi</td>
													<td>6281911154442</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 2.000.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>25</td>
													<td>rian</td>
													<td>Teknisi</td>
													<td>6285881585797</td>
													<td>Baros</td>
													<td>Shift Siang - Malam</td>
													<td>
														Rp 1.800.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>26</td>
													<td>ridwan</td>
													<td>Magang</td>
													<td>628111806075</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 1.000.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>27</td>
													<td>rizal</td>
													<td>Admin</td>
													<td>6281382873695</td>
													<td>Baros</td>
													<td>Shift Siang - Malam</td>
													<td>
														Rp 3.300.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>28</td>
													<td>supriatna</td>
													<td>Teknisi</td>
													<td>6283838150233</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 2.100.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>29</td>
													<td>syifa</td>
													<td>Admin</td>
													<td>6285217184119</td>
													<td>Cadasari</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 2.200.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>30</td>
													<td>wildan</td>
													<td>NOC</td>
													<td>6281315442392</td>
													<td>Baros</td>
													<td>Shift Siang - Malam</td>
													<td>
														Rp 1.600.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>31</td>
													<td>yatna</td>
													<td>Teknisi</td>
													<td>6282120783866</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 2.500.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>32</td>
													<td>yoga</td>
													<td>Admin</td>
													<td>6285133093480</td>
													<td>Baros</td>
													<td>Multi Shift</td>
													<td>
														Rp 3.900.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>33</td>
													<td>yudi</td>
													<td>Teknisi</td>
													<td>6283893065757</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 1.100.000													</td>
												</tr>
																							<tr class="employee-account-row">
													<td>34</td>
													<td>yusuf</td>
													<td>Teknisi</td>
													<td>62895630436687</td>
													<td>Baros</td>
													<td>Shift Pagi - Sore</td>
													<td>
														Rp 1.500.000													</td>
												</tr>
																														</tbody>
								</table>
							</div>
							<div class="account-pagination-wrap" id="employeeAccountPaginationWrap"></div>
						</div>
									</section>

				<section id="riwayat-absen" class="mb-4">
					<h2 class="section-title">Riwayat Absen Terbaru</h2>
					<div class="table-wrap">
						<div class="table-responsive">
							<table class="table table-custom">
								<thead>
									<tr>
										<th>Tanggal</th>
										<th>Masuk</th>
										<th>Pulang</th>
										<th>Status</th>
										<th>Catatan</th>
									</tr>
								</thead>
								<tbody>
																																									<tr>
												<td>Kamis, 26 Februari 2026</td>
												<td>10:56</td>
												<td>-</td>
												<td><span class="status-chip chip-terlambat">Terlambat</span></td>
												<td>Terlambat 02:56:33</td>
											</tr>
																																<tr>
												<td>Kamis, 26 Februari 2026</td>
												<td>08:00</td>
												<td>-</td>
												<td><span class="status-chip chip-hadir">Hadir</span></td>
												<td>On time</td>
											</tr>
																																<tr>
												<td>Kamis, 26 Februari 2026</td>
												<td>07:59</td>
												<td>-</td>
												<td><span class="status-chip chip-hadir">Hadir</span></td>
												<td>On time</td>
											</tr>
																																<tr>
												<td>Kamis, 26 Februari 2026</td>
												<td>07:59</td>
												<td>-</td>
												<td><span class="status-chip chip-hadir">Hadir</span></td>
												<td>On time</td>
											</tr>
																																<tr>
												<td>Kamis, 26 Februari 2026</td>
												<td>07:58</td>
												<td>-</td>
												<td><span class="status-chip chip-hadir">Hadir</span></td>
												<td>On time</td>
											</tr>
																																<tr>
												<td>Kamis, 26 Februari 2026</td>
												<td>07:58</td>
												<td>-</td>
												<td><span class="status-chip chip-hadir">Hadir</span></td>
												<td>On time</td>
											</tr>
																																<tr>
												<td>Kamis, 26 Februari 2026</td>
												<td>07:56</td>
												<td>-</td>
												<td><span class="status-chip chip-hadir">Hadir</span></td>
												<td>On time</td>
											</tr>
																																<tr>
												<td>Kamis, 26 Februari 2026</td>
												<td>07:54</td>
												<td>-</td>
												<td><span class="status-chip chip-hadir">Hadir</span></td>
												<td>On time</td>
											</tr>
																																<tr>
												<td>Kamis, 26 Februari 2026</td>
												<td>07:53</td>
												<td>-</td>
												<td><span class="status-chip chip-hadir">Hadir</span></td>
												<td>On time</td>
											</tr>
																																<tr>
												<td>Kamis, 26 Februari 2026</td>
												<td>07:48</td>
												<td>-</td>
												<td><span class="status-chip chip-hadir">Hadir</span></td>
												<td>On time</td>
											</tr>
																											</tbody>
							</table>
						</div>
					</div>
				</section>

				<div class="metric-modal" id="metricModal" aria-hidden="true" role="dialog" aria-labelledby="metricModalTitle">
					<div class="metric-modal-card">
						<div class="metric-modal-head">
							<div class="metric-modal-title-wrap">
								<h3 class="metric-modal-title" id="metricModalTitle">Grafik Ringkasan</h3>
								<p class="metric-modal-subtitle" id="metricModalSubtitle">Realtime data</p>
							</div>
							<button type="button" class="metric-modal-close" id="metricModalClose" aria-label="Tutup popup grafik">&times;</button>
						</div>
						<div class="metric-modal-body">
							<div class="metric-legend" id="metricChartLegend">
								<span class="label">Memuat data grafik...</span>
							</div>
							<div class="metric-chart-wrap">
								<div class="metric-chart-canvas" id="metricChartCanvas"></div>
							</div>
							<div class="metric-range-row">
								<button type="button" class="metric-range-btn" data-metric-range="1H">1H</button>
								<button type="button" class="metric-range-btn" data-metric-range="1M">1M</button>
								<button type="button" class="metric-range-btn active" data-metric-range="1B">1B</button>
								<button type="button" class="metric-range-btn" data-metric-range="1T">1T</button>
								<button type="button" class="metric-range-btn" data-metric-range="ALL">Semuanya</button>
								<span class="metric-range-note">Gunakan scroll mouse untuk zoom dekat/jauh.</span>
							</div>
							<div class="metric-member-wrap" id="metricMemberWrap">
								<p class="metric-member-title" id="metricMemberTitle">Daftar Karyawan</p>
								<p class="metric-member-note" id="metricMemberNote">Pilih metrik untuk memuat daftar karyawan.</p>
								<div class="metric-member-toolbar">
									<input
										type="search"
										id="metricMemberSearchInput"
										class="metric-member-search"
										placeholder="Cari ID atau nama karyawan..."
										autocomplete="off"
									>
									<span class="metric-member-search-meta" id="metricMemberSearchMeta"></span>
								</div>
								<div class="metric-member-table-wrap">
									<table class="metric-member-table" aria-label="Daftar karyawan pada metrik grafik">
										<thead>
											<tr>
												<th>No</th>
												<th>ID</th>
												<th>Nama Karyawan</th>
												<th>Tanggal</th>
												<th class="metric-count-col" id="metricMemberCountHead">Jumlah</th>
											</tr>
										</thead>
										<tbody id="metricMemberList">
											<tr>
												<td colspan="5" class="metric-member-empty">Memuat daftar karyawan...</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</div>

				<p class="footer-note mb-0">Absen Online PNS - monitoring kehadiran lebih cepat dan rapi.</p>
			</div>
		</main>
	</div>

	<script>
		window.__HOME_INDEX_CONFIG = {"accountRows":[{"username":"acep","employee_id":"01","display_name":"Acep Muzakil Amini","branch":"Baros","cross_branch_enabled":0,"phone":"6283142223118","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"D","salary_monthly":3550000,"job_title":"Teknisi","address":"Kp. Kadulimus RT\/RW 002\/002 Desa Juhut Kec. Karang Tanjung Kab. Pandeglang","coordinate_point":"","work_days":24,"weekly_day_off":2,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"andi","employee_id":"02","display_name":"Andi","branch":"Baros","cross_branch_enabled":0,"phone":"6283897823902","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"A","salary_monthly":1000000,"job_title":"Teknisi","address":"Kp. Karees Pasir Gedang RT\/RW 016\/003 Desa Pasir Tangkil Kec. Warung Gunung","coordinate_point":"","work_days":24,"weekly_day_off":5,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"andini","employee_id":"03","display_name":"Andini Salsabilah","branch":"Baros","cross_branch_enabled":1,"phone":"6281527877422","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"C","salary_monthly":2700000,"job_title":"Admin","address":"Kp. Siluwung RT\/RW 001\/005 Desa Sukamanah Kec. Baros","coordinate_point":"","work_days":16,"weekly_day_off":4,"custom_allowed_weekdays":[4,5,6,7],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":1},{"username":"ardi","employee_id":"04","display_name":"Ardi Rizki","branch":"Baros","cross_branch_enabled":0,"phone":"6287773304611","shift_name":"Shift Siang - Malam","shift_key":"siang","salary_tier":"D","salary_monthly":4050000,"job_title":"Teknisi","address":"Kp. Warung RT\/RW 009\/003 Desa Panyirapan Kec. Baros","coordinate_point":"","work_days":24,"weekly_day_off":7,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"arifuddin","employee_id":"05","display_name":"M. Arifuddin","branch":"Baros","cross_branch_enabled":0,"phone":"6287871046665","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"B","salary_monthly":2200000,"job_title":"Teknisi","address":"Kp. Siluwung RT\/RW 001\/005 Desa Sukamanah Kec. Baros Kab. Serang","coordinate_point":"","work_days":24,"weekly_day_off":5,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"asep","employee_id":"06","display_name":"Asep Sulaeman","branch":"Cadasari","cross_branch_enabled":0,"phone":"6283845338450","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"B","salary_monthly":2200000,"job_title":"Teknisi","address":"Kp. Kareo Kulon RT\/RW 004\/002 Desa Sukamanah Kec. Baros","coordinate_point":"","work_days":24,"weekly_day_off":6,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"azri","employee_id":"07","display_name":"Azri Pahriyansyah","branch":"Baros","cross_branch_enabled":0,"phone":"6283894635072","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"A","salary_monthly":1000000,"job_title":"Debt Collector","address":"Kp. Urat Jagat RT\/RW 022\/005 Desa Panyirapan Kec. Baros","coordinate_point":"","work_days":24,"weekly_day_off":2,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"caca","employee_id":"08","display_name":"Siti Anisa Musyana","branch":"Baros","cross_branch_enabled":0,"phone":"6282213305364","shift_name":"Multi Shift","shift_key":"multishift","salary_tier":"A","salary_monthly":1300000,"job_title":"Marketing","address":"Kp. Parumasan RT\/RW 005\/001 Desa Nagara Padang Kec. Petir","coordinate_point":"","work_days":24,"weekly_day_off":4,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"dedi","employee_id":"09","display_name":"Dedi Supriyadi","branch":"Baros","cross_branch_enabled":0,"phone":"6281380796399","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"D","salary_monthly":4150000,"job_title":"Teknisi","address":"Kp. Siluwung RT\/RW 001\/005 Desa Sukamanah Kec. Baros","coordinate_point":"","work_days":24,"weekly_day_off":3,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"deni","employee_id":"10","display_name":"Deni Yusup","branch":"Baros","cross_branch_enabled":0,"phone":"6283159487001","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"D","salary_monthly":3550000,"job_title":"Teknisi","address":"Kp. Karees Pasir Gedang RT\/RW 016\/003 Desa Pasir Tangkil Kec. Warung Gunung","coordinate_point":"","work_days":24,"weekly_day_off":3,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"desti","employee_id":"11","display_name":"Desti Chaerunnisa","branch":"Baros","cross_branch_enabled":0,"phone":"6281289324775","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"C","salary_monthly":3130000,"job_title":"Admin","address":"Kp. Siluwung RT\/RW 001\/005 Desa Sukamanah Kec. Baros Kab. Serang","coordinate_point":"","work_days":24,"weekly_day_off":3,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"efaria","employee_id":"12","display_name":"M. Efaria Setiawan","branch":"Baros","cross_branch_enabled":0,"phone":"6285210304220","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"D","salary_monthly":4150000,"job_title":"Teknisi","address":"Kp. Katulisan RT\/RW 002\/005 Desa Sukamanah Kec. Baros","coordinate_point":"","work_days":24,"weekly_day_off":4,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"ferdi","employee_id":"13","display_name":"Khoirul Imam Ferdiansyah","branch":"Baros","cross_branch_enabled":0,"phone":"6289627387346","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"D","salary_monthly":4050000,"job_title":"Teknisi","address":"Kp. Urat Jagat RT\/RW 022\/005 Desa Panyirapan Kec. Baros Kab. Serang","coordinate_point":"","work_days":24,"weekly_day_off":6,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"fide","employee_id":"14","display_name":"Vointra Namara Fidelito","branch":"Baros","cross_branch_enabled":0,"phone":"6285885960661","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"A","salary_monthly":1000000,"job_title":"Magang","address":"Dusun Kiaralawang RT 002\/ RW 001 Kel. Tirtasari Kec. Tirtamulya, Kab. Karawang","coordinate_point":"","work_days":24,"weekly_day_off":3,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"hendra","employee_id":"15","display_name":"Hendra Hidayatulloh","branch":"Baros","cross_branch_enabled":0,"phone":"6281383685517","shift_name":"Shift Siang - Malam","shift_key":"siang","salary_tier":"A","salary_monthly":750000,"job_title":"Magang","address":"Kp. Kadu Ela RT\/RW 003\/001 Desa Kadu Ela Kec. Cadasari","coordinate_point":"","work_days":20,"weekly_day_off":6,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"hilmi","employee_id":"16","display_name":"Tb Hilmi","branch":"Cadasari","cross_branch_enabled":1,"phone":"6282299096547","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"A","salary_monthly":1000000,"job_title":"Marketing","address":"Kp. Pabuaran Honje RT\/RW 005\/003 Desa Sukaindah Kec. Baros","coordinate_point":"","work_days":24,"weekly_day_off":1,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":1},{"username":"inayah","employee_id":"17","display_name":"Inayah Hidayanti","branch":"Cadasari","cross_branch_enabled":0,"phone":"628981611559","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"A","salary_monthly":1000000,"job_title":"Marketing","address":"Kp. Kadu Kempong RT\/RW 001\/001 Desa Sukaindah Kec. Baros","coordinate_point":"","work_days":24,"weekly_day_off":5,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"jaelani","employee_id":"18","display_name":"Jaelani","branch":"Baros","cross_branch_enabled":0,"phone":"6283841232161","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"C","salary_monthly":2600000,"job_title":"Teknisi","address":"Kp. Baru RT\/RW 017\/004 Desa Sentul Keca. Kragilan","coordinate_point":"","work_days":24,"weekly_day_off":5,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"kaisar","employee_id":"19","display_name":"Kaisar Alqodar","branch":"Baros","cross_branch_enabled":0,"phone":"6281282608728","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"D","salary_monthly":4000000,"job_title":"NOC","address":"Perum Bumi Ciruas Permai 1 Blok A6\/02 Desa Ranjeng Kec. Ciruas Kab. Serang","coordinate_point":"","work_days":8,"weekly_day_off":1,"custom_allowed_weekdays":[1,5],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"madromin","employee_id":"20","display_name":"Madromin","branch":"Baros","cross_branch_enabled":1,"phone":"6283894914309","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"B","salary_monthly":1800000,"job_title":"Teknisi","address":"Kp. Cikapas RT\/RW 010\/003 Desa Curug Agung Kec. Baros","coordinate_point":"","work_days":24,"weekly_day_off":2,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":1},{"username":"malong","employee_id":"21","display_name":"Sahlan","branch":"Baros","cross_branch_enabled":0,"phone":"6281292658250","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"A","salary_monthly":1500000,"job_title":"Debt Collector","address":"Kp. Pagedongan Masjid RT\/RW 002\/003 Desa Sukamanah Kec. Baros","coordinate_point":"","work_days":24,"weekly_day_off":2,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"maulana","employee_id":"22","display_name":"Ahmad Maulana","branch":"Baros","cross_branch_enabled":0,"phone":"6285880001070","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"B","salary_monthly":2500000,"job_title":"Teknisi","address":"Kp. Bangun Sabrang RT\/RW 001\/001 Desa Ciinjuk Kec. Cadasari","coordinate_point":"","work_days":24,"weekly_day_off":4,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"murodi","employee_id":"23","display_name":"murodi","branch":"Baros","cross_branch_enabled":0,"phone":"6285817050915","shift_name":"Multi Shift","shift_key":"multishift","salary_tier":"D","salary_monthly":3800000,"job_title":"Admin","address":"Kp. Sahayu RT\/RW 003\/006 Desa Ciinjuk Kec. Baros","coordinate_point":"","work_days":24,"weekly_day_off":7,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"rahmatullah","employee_id":"24","display_name":"Rahmatullah","branch":"Baros","cross_branch_enabled":0,"phone":"6281911154442","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"B","salary_monthly":2000000,"job_title":"Teknisi","address":"Kp. Siluwung RT\/RW 001\/005 Desa Sukamanah Kec. Baros","coordinate_point":"","work_days":24,"weekly_day_off":4,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"rian","employee_id":"25","display_name":"Rian Fadilah","branch":"Baros","cross_branch_enabled":0,"phone":"6285881585797","shift_name":"Shift Siang - Malam","shift_key":"siang","salary_tier":"B","salary_monthly":1800000,"job_title":"Teknisi","address":"Kp. Sukamanah RT\/RW 002\/001 Desa Sukamanah Kec. Baros","coordinate_point":"","work_days":24,"weekly_day_off":7,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"ridwan","employee_id":"26","display_name":"Muhammad Ridwan K.","branch":"Baros","cross_branch_enabled":0,"phone":"628111806075","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"A","salary_monthly":1000000,"job_title":"Magang","address":"Komp. Pejaten Mas, Kec. Kramatwatu, Kab. Serang","coordinate_point":"6\u00b003\u002744.1\u0022S 106\u00b006\u002746.4\u0022E","work_days":24,"weekly_day_off":7,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"rizal","employee_id":"27","display_name":"Ahmad Rizalus Solihin","branch":"Baros","cross_branch_enabled":0,"phone":"6281382873695","shift_name":"Shift Siang - Malam","shift_key":"siang","salary_tier":"C","salary_monthly":3300000,"job_title":"Admin","address":"Perum, Bumi Baros Chasannah RT\/RW 006\/002 Desa Sukamanah Kec. Baros","coordinate_point":"","work_days":24,"weekly_day_off":6,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"supriatna","employee_id":"28","display_name":"Supriatna","branch":"Baros","cross_branch_enabled":0,"phone":"6283838150233","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"B","salary_monthly":2100000,"job_title":"Teknisi","address":"Kp. Kadu Biuk RT\/RW 017\/006 Desa Panyirapan Kec. Baros","coordinate_point":"","work_days":24,"weekly_day_off":5,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"syifa","employee_id":"29","display_name":"Syifa Aida Firmanti","branch":"Cadasari","cross_branch_enabled":0,"phone":"6285217184119","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"B","salary_monthly":2200000,"job_title":"Admin","address":"Kp. Pabuaran RT\/RW 003\/002 Desa Cadasari Kec. Cadasari","coordinate_point":"","work_days":24,"weekly_day_off":7,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"wildan","employee_id":"30","display_name":"Wildan Nurfauzan","branch":"Baros","cross_branch_enabled":0,"phone":"6281315442392","shift_name":"Shift Siang - Malam","shift_key":"siang","salary_tier":"B","salary_monthly":1600000,"job_title":"NOC","address":"Perum Queen Garden Blok B1\/16 RT\/RW 005\/005 Desa Taktakan Kec. Taktakan Kota Serang","coordinate_point":"","work_days":24,"weekly_day_off":2,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"yatna","employee_id":"31","display_name":"Supriatna","branch":"Baros","cross_branch_enabled":0,"phone":"6282120783866","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"B","salary_monthly":2500000,"job_title":"Teknisi","address":"Kp. Kadu Biuk","coordinate_point":"-6.23971, 106.12961","work_days":24,"weekly_day_off":5,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"yoga","employee_id":"32","display_name":"M. Arudji Prayoga","branch":"Baros","cross_branch_enabled":0,"phone":"6285133093480","shift_name":"Multi Shift","shift_key":"multishift","salary_tier":"D","salary_monthly":3900000,"job_title":"Admin","address":"Kp. Siluwung RT\/RW 001\/005 Desa Sukamanah Kec. Baros Kab. Serang","coordinate_point":"","work_days":24,"weekly_day_off":6,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"yudi","employee_id":"33","display_name":"Yudi","branch":"Baros","cross_branch_enabled":0,"phone":"6283893065757","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"A","salary_monthly":1100000,"job_title":"Teknisi","address":"Kp. Sidagel RT\/RW 019\/002 Desa Sukamanah Kec. Baros Kab. Serang","coordinate_point":"","work_days":24,"weekly_day_off":2,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0},{"username":"yusuf","employee_id":"34","display_name":"Yusuf Bachriel","branch":"Baros","cross_branch_enabled":0,"phone":"62895630436687","shift_name":"Shift Pagi - Sore","shift_key":"pagi","salary_tier":"A","salary_monthly":1500000,"job_title":"Teknisi","address":"Kp. Sukamanah RT\/RW 003\/001 Desa Sukamanah Kec. Baros","coordinate_point":"","work_days":24,"weekly_day_off":3,"custom_allowed_weekdays":[],"custom_off_ranges":[],"custom_work_ranges":[],"record_version":1,"lintas_cabang":0}],"defaultJobTitle":"Teknisi","defaultBranch":"Baros","defaultWeeklyDayOff":1,"featureAccounts":[{"username":"admin","display_name":"Admin Baros","feature_permissions":["manage_accounts"]},{"username":"admin_cadasari","display_name":"Admin Cadasari","feature_permissions":[]},{"username":"finance","display_name":"Finance Yoga","feature_permissions":[]}],"summaryUrl":"https:\/\/absenpanha.com\/home\/admin_dashboard_live_summary","statusLabelFixed":"Ringkasan Operasional Harian","chartEndpoint":"https:\/\/absenpanha.com\/home\/admin_metric_chart_data","collabRevision":552,"collabFeedUrl":"https:\/\/absenpanha.com\/home\/admin_change_feed","collabSyncLockUrl":"https:\/\/absenpanha.com\/home\/sync_lock_status","collabActor":"bos","collabPollMs":10000,"collabLockWaitRefreshSeconds":5,"syncBackupReady":false,"syncBackupRequiredDirections":["sheet_to_web_attendance","web_to_sheet"]};
	</script>
	<script>
		(function () {
			var config = window.__HOME_INDEX_CONFIG || {};
			var accountRows = Array.isArray(config.accountRows) ? config.accountRows : [];
			if (!accountRows.length) {
				return;
			}

			var editUsernameInput = document.getElementById('editUsernameInput');
			var editCrossBranchInput = document.getElementById('editCrossBranchInput');
			var customWeekdayCheckboxes = document.querySelectorAll('[data-edit-custom-weekday]');
			var editCustomOffStartDateInput = document.getElementById('editCustomOffStartDateInput');
			var editCustomOffEndDateInput = document.getElementById('editCustomOffEndDateInput');
			var editCustomWorkStartDateInput = document.getElementById('editCustomWorkStartDateInput');
			var editCustomWorkEndDateInput = document.getElementById('editCustomWorkEndDateInput');
			if (!editUsernameInput || !editCrossBranchInput) {
				return;
			}

			var byKey = {};
			var rows = [];
			var normalize = function (value) {
				return String(value || '').trim().toLowerCase();
			};
			var resolveCrossBranchValue = function (value) {
				if (typeof value === 'boolean') {
					return value ? 1 : 0;
				}
				if (typeof value === 'number') {
					return value === 1 ? 1 : 0;
				}
				var text = normalize(value);
				if (text === '1' || text === 'ya' || text === 'iya' || text === 'yes' || text === 'true' || text === 'aktif' || text === 'enabled' || text === 'on') {
					return 1;
				}
				return 0;
			};
			var normalizeWeekdayList = function (days) {
				var source = Array.isArray(days) ? days : [];
				var normalized = [];
				for (var dayIndex = 0; dayIndex < source.length; dayIndex += 1) {
					var weekdayValue = parseInt(source[dayIndex], 10);
					if (!isFinite(weekdayValue) || weekdayValue < 1 || weekdayValue > 7) {
						continue;
					}
					if (normalized.indexOf(weekdayValue) === -1) {
						normalized.push(weekdayValue);
					}
				}
				normalized.sort(function (a, b) {
					return a - b;
				});
				return normalized;
			};
			var normalizeDateRangeList = function (ranges) {
				var source = Array.isArray(ranges) ? ranges : [];
				var normalized = [];
				for (var rangeIndex = 0; rangeIndex < source.length; rangeIndex += 1) {
					var rangeRow = source[rangeIndex] || {};
					var startDate = String(rangeRow.start_date || rangeRow.start || '').trim();
					var endDate = String(rangeRow.end_date || rangeRow.end || '').trim();
					if (!startDate || !endDate) {
						continue;
					}
					if (startDate > endDate) {
						var tempDate = startDate;
						startDate = endDate;
						endDate = tempDate;
					}
					normalized.push({
						start_date: startDate,
						end_date: endDate
					});
				}
				return normalized;
			};
			var applyCustomScheduleFields = function (row) {
				var weekdayValues = normalizeWeekdayList(row && row.custom_allowed_weekdays);
				for (var checkboxIndex = 0; checkboxIndex < customWeekdayCheckboxes.length; checkboxIndex += 1) {
					var checkbox = customWeekdayCheckboxes[checkboxIndex];
					var checkboxValue = parseInt(checkbox.value, 10);
					checkbox.checked = weekdayValues.indexOf(checkboxValue) !== -1;
				}

				var offRanges = normalizeDateRangeList(row && row.custom_off_ranges);
				var workRanges = normalizeDateRangeList(row && row.custom_work_ranges);
				var firstOff = offRanges.length ? offRanges[0] : null;
				var firstWork = workRanges.length ? workRanges[0] : null;

				if (editCustomOffStartDateInput) {
					editCustomOffStartDateInput.value = firstOff ? firstOff.start_date : '';
				}
				if (editCustomOffEndDateInput) {
					editCustomOffEndDateInput.value = firstOff ? firstOff.end_date : '';
				}
				if (editCustomWorkStartDateInput) {
					editCustomWorkStartDateInput.value = firstWork ? firstWork.start_date : '';
				}
				if (editCustomWorkEndDateInput) {
					editCustomWorkEndDateInput.value = firstWork ? firstWork.end_date : '';
				}
			};

			for (var i = 0; i < accountRows.length; i += 1) {
				var row = accountRows[i] || {};
				var username = normalize(row.username);
				var employeeId = normalize(row.employee_id);
				if (username !== '') {
					byKey[username] = row;
				}
				if (employeeId !== '' && employeeId !== '-') {
					byKey[employeeId] = row;
					byKey[employeeId + ' - ' + username] = row;
				}
				rows.push(row);
			}

			var resolveAccount = function (rawValue, allowFuzzy) {
				var key = normalize(rawValue);
				if (key === '') {
					return null;
				}
				if (Object.prototype.hasOwnProperty.call(byKey, key)) {
					return byKey[key];
				}
				if (key.indexOf(' - ') !== -1) {
					var parts = key.split(' - ');
					var usernamePart = normalize(parts[parts.length - 1]);
					if (usernamePart !== '' && Object.prototype.hasOwnProperty.call(byKey, usernamePart)) {
						return byKey[usernamePart];
					}
				}
				if (!allowFuzzy) {
					return null;
				}

				var matches = [];
				for (var idx = 0; idx < rows.length; idx += 1) {
					var current = rows[idx] || {};
					var currentUsername = normalize(current.username);
					var currentEmployeeId = normalize(current.employee_id);
					var composite = currentEmployeeId !== '' && currentEmployeeId !== '-' ? currentEmployeeId + ' - ' + currentUsername : currentUsername;
					if (
						(currentUsername !== '' && currentUsername.indexOf(key) !== -1) ||
						(currentEmployeeId !== '' && currentEmployeeId !== '-' && currentEmployeeId.indexOf(key) !== -1) ||
						(composite.indexOf(key) !== -1)
					) {
						matches.push(current);
					}
				}

				return matches.length === 1 ? matches[0] : null;
			};

			var applyCrossBranchBySelectedUser = function () {
				var row = resolveAccount(editUsernameInput.value, true);
				if (!row) {
					if (normalize(editUsernameInput.value) === '') {
						editCrossBranchInput.value = '0';
						applyCustomScheduleFields(null);
					}
					return;
				}
				var crossBranchRaw = Object.prototype.hasOwnProperty.call(row, 'cross_branch_enabled')
					? row.cross_branch_enabled
					: row.lintas_cabang;
				editCrossBranchInput.value = resolveCrossBranchValue(crossBranchRaw) === 1 ? '1' : '0';
				applyCustomScheduleFields(row);
			};

			var scheduleApply = function () {
				window.setTimeout(applyCrossBranchBySelectedUser, 0);
			};

			editUsernameInput.addEventListener('input', scheduleApply);
			editUsernameInput.addEventListener('change', scheduleApply);
			editUsernameInput.addEventListener('blur', scheduleApply);

			var modalOpenButtons = document.querySelectorAll('[data-manage-modal-open="employeeManageModal"]');
			for (var buttonIndex = 0; buttonIndex < modalOpenButtons.length; buttonIndex += 1) {
				modalOpenButtons[buttonIndex].addEventListener('click', function () {
					window.setTimeout(applyCrossBranchBySelectedUser, 40);
				});
			}

			scheduleApply();
		})();
	</script>
	<script>
		(function () {
			if (window.__metricMemberWidgetInit) {
				return;
			}
			window.__metricMemberWidgetInit = true;

			var cfg = window.__HOME_INDEX_CONFIG || {};
			var chartEndpoint = String(cfg.chartEndpoint || '').trim();
			var modal = document.getElementById('metricModal');
			var modalTitle = document.getElementById('metricModalTitle');
			var memberWrap = document.getElementById('metricMemberWrap');
			var memberTitle = document.getElementById('metricMemberTitle');
			var memberNote = document.getElementById('metricMemberNote');
			var memberList = document.getElementById('metricMemberList');
			var memberSearchInput = document.getElementById('metricMemberSearchInput');
			var memberSearchMeta = document.getElementById('metricMemberSearchMeta');
			var memberTableWrap = modal.querySelector('.metric-member-table-wrap');
			var rangeButtons = document.querySelectorAll('.metric-range-btn[data-metric-range]');
			var metricCards = document.querySelectorAll('[data-metric-card]');
			if (!chartEndpoint || !modal || !memberWrap || !memberTitle || !memberNote || !memberList) {
				return;
			}

			var metricLabels = {
				hadir: 'Total Hadir',
				terlambat: 'Total Terlambat',
				izin_cuti: 'Total Izin/Cuti',
				alpha: 'Total Alpha'
			};
			var currentMetricKey = 'hadir';
			var pollingId = null;
			var requestSeq = 0;
			var pending = false;
			var memberRows = [];
			var memberCountByKey = {};
			var currentRangeKey = '1B';

			var parseMetricFromTitle = function () {
				var text = String((modalTitle && modalTitle.textContent) || '').toLowerCase();
				if (text.indexOf('terlambat') !== -1) { return 'terlambat'; }
				if (text.indexOf('izin') !== -1 || text.indexOf('cuti') !== -1) { return 'izin_cuti'; }
				if (text.indexOf('alpha') !== -1) { return 'alpha'; }
				return 'hadir';
			};

			var activeRange = function () {
				for (var i = 0; i < rangeButtons.length; i += 1) {
					if (rangeButtons[i].classList.contains('active')) {
						return String(rangeButtons[i].getAttribute('data-metric-range') || '1B').toUpperCase();
					}
				}
				return '1B';
			};

			var normalizeSearchText = function (value) {
				return String(value || '').toLowerCase().trim();
			};

			var buildRowCountKey = function (row) {
				var idPart = String((row && row.employee_id) || '').trim().toLowerCase();
				var userPart = String((row && row.username) || '').trim().toLowerCase();
				var namePart = String((row && row.name) || '').trim().toLowerCase();
				if (userPart !== '') {
					return 'u:' + userPart;
				}
				if (idPart !== '' && idPart !== '-') {
					return 'i:' + idPart;
				}
				return 'n:' + namePart;
			};

			var buildMemberCountMap = function (rows) {
				var counter = {};
				var i;
				for (i = 0; i < rows.length; i += 1) {
					var row = rows[i] || {};
					var key = buildRowCountKey(row) + '|d:' + normalizeSearchText(row.date || row.date_label || '-');
					if (!counter[key]) {
						counter[key] = 0;
					}
					counter[key] += 1;
				}
				return counter;
			};

			var buildMemberRows = function (details, names, unknownCount) {
				var rows = [];
				var i;
				if (Array.isArray(details) && details.length > 0) {
					for (i = 0; i < details.length; i += 1) {
						var detail = details[i] || {};
						var detailName = String(detail.name || '').trim();
						if (detailName === '') {
							continue;
						}
						var detailId = String(detail.employee_id || '-').trim();
						if (detailId === '') {
							detailId = '-';
						}
						rows.push({
							username: String(detail.username || '').trim(),
							employee_id: detailId,
							name: detailName,
							date: String(detail.date || detail.date_label || '-').trim() || '-',
							date_label: String(detail.date_label || detail.date || '-').trim() || '-'
						});
					}
				} else if (Array.isArray(names)) {
					for (i = 0; i < names.length; i += 1) {
						var fallbackName = String(names[i] || '').trim();
						if (fallbackName === '') {
							continue;
						}
						rows.push({
							username: '',
							employee_id: '-',
							name: fallbackName,
							date: '-',
							date_label: '-'
						});
					}
				}

				var unknownTotal = Number(unknownCount || 0);
				if (isFinite(unknownTotal) && unknownTotal > 0) {
					for (i = 0; i < unknownTotal; i += 1) {
						rows.push({
							username: '',
							employee_id: '-',
							name: 'Data tanpa nama',
							date: '-',
							date_label: '-'
						});
					}
				}

				return rows;
			};

			var toggleCountColumnByRange = function (rangeKey) {
				var rangeUpper = String(rangeKey || '').toUpperCase();
				var hide = (rangeUpper === '1H');
				if (memberTableWrap) {
					memberTableWrap.classList.toggle('hide-count-col', hide);
				}
			};

			var renderTableRows = function () {
				var filterText = normalizeSearchText(memberSearchInput ? memberSearchInput.value : '');
				memberList.innerHTML = '';

				var filteredRows = [];
				for (var i = 0; i < memberRows.length; i += 1) {
					var row = memberRows[i];
					var searchKey = normalizeSearchText((row.employee_id || '') + ' ' + (row.name || ''));
					if (filterText !== '' && searchKey.indexOf(filterText) === -1) {
						continue;
					}
					filteredRows.push(row);
				}

				if (memberSearchMeta) {
					memberSearchMeta.textContent = filteredRows.length + ' dari ' + memberRows.length + ' data';
				}

				if (filteredRows.length === 0) {
					var emptyRow = document.createElement('tr');
					var emptyCell = document.createElement('td');
					emptyCell.colSpan = String(currentRangeKey).toUpperCase() === '1H' ? 4 : 5;
					emptyCell.className = 'metric-member-empty';
					emptyCell.textContent = memberRows.length > 0
						? 'Tidak ada data yang cocok dengan pencarian.'
						: 'Tidak ada data karyawan pada metrik ini.';
					emptyRow.appendChild(emptyCell);
					memberList.appendChild(emptyRow);
					return;
				}

				for (var rowIndex = 0; rowIndex < filteredRows.length; rowIndex += 1) {
					var rowData = filteredRows[rowIndex];
					var tr = document.createElement('tr');

					var tdNo = document.createElement('td');
					tdNo.textContent = String(rowIndex + 1);
					tr.appendChild(tdNo);

					var tdId = document.createElement('td');
					tdId.textContent = String(rowData.employee_id || '-');
					tr.appendChild(tdId);

					var tdName = document.createElement('td');
					tdName.textContent = String(rowData.name || '-');
					tr.appendChild(tdName);

					var tdDate = document.createElement('td');
					tdDate.textContent = String(rowData.date_label || '-');
					tr.appendChild(tdDate);

					var tdCount = document.createElement('td');
					tdCount.className = 'metric-count-col';
					var countKey = buildRowCountKey(rowData) + '|d:' + normalizeSearchText(rowData.date || rowData.date_label || '-');
					var countValue = Number(memberCountByKey[countKey] || 0);
					if (!isFinite(countValue) || countValue <= 0) {
						countValue = 1;
					}
					tdCount.textContent = String(countValue) + 'x';
					tr.appendChild(tdCount);

					memberList.appendChild(tr);
				}
			};

			var render = function (title, note, details, names, unknownCount, rangeKey) {
				memberTitle.textContent = title;
				memberNote.textContent = note;
				memberWrap.style.display = 'grid';
				currentRangeKey = String(rangeKey || activeRange() || '1B').toUpperCase();
				memberRows = buildMemberRows(details, names, unknownCount);
				memberCountByKey = buildMemberCountMap(memberRows);
				toggleCountColumnByRange(currentRangeKey);
				if (memberSearchInput) {
					memberSearchInput.value = '';
				}
				renderTableRows();
			};

			var renderLoading = function () {
				var metricLabel = metricLabels[currentMetricKey] || 'Total Hadir';
				render('Daftar Karyawan - ' + metricLabel, 'Memuat daftar karyawan...', [], [], 0, currentRangeKey);
			};

			var renderError = function () {
				var metricLabel = metricLabels[currentMetricKey] || 'Total Hadir';
				render('Daftar Karyawan - ' + metricLabel, 'Gagal memuat daftar karyawan.', [], [], 0, currentRangeKey);
			};

			var fetchMembers = function () {
				if (!modal.classList.contains('show') || pending) {
					return;
				}
				currentMetricKey = parseMetricFromTitle();
				var range = activeRange();
				currentRangeKey = range;
				var requestId = requestSeq + 1;
				requestSeq = requestId;
				pending = true;
				renderLoading();

				var url = chartEndpoint
					+ '?metric=' + encodeURIComponent(currentMetricKey)
					+ '&range=' + encodeURIComponent(range)
					+ '&_members=' + String(Date.now());

				fetch(url, {
					credentials: 'same-origin',
					headers: { 'X-Requested-With': 'XMLHttpRequest' }
				})
					.then(function (resp) {
						if (!resp.ok) { throw new Error('HTTP ' + String(resp.status)); }
						return resp.json();
					})
					.then(function (json) {
						if (requestId !== requestSeq) { return; }
						if (!json || json.success !== true) { throw new Error('Invalid payload'); }
						var names = Array.isArray(json.employee_names) ? json.employee_names : [];
						var detailsRaw = Array.isArray(json.employee_details) ? json.employee_details : [];
						var details = [];
						for (var detailIndex = 0; detailIndex < detailsRaw.length; detailIndex += 1) {
							var row = detailsRaw[detailIndex];
							if (!row || typeof row !== 'object') {
								continue;
							}
							var rowName = String(row.name || '').trim();
							if (!rowName) {
								continue;
							}
							details.push({
								username: String(row.username || '').trim(),
								name: rowName,
								employee_id: String(row.employee_id || '-').trim() || '-',
								date: String(row.date || '').trim(),
								date_label: String(row.date_label || '').trim()
							});
						}
						var unknownCount = Number(json.employee_unknown_count || 0);
						if (!isFinite(unknownCount) || unknownCount < 0) { unknownCount = 0; }
						var total = Number(json.employee_count || 0);
						if (!isFinite(total) || total < 0) {
							total = 0;
						}
						if (total <= 0) {
							total = (details.length > 0 ? details.length : names.length) + unknownCount;
						}
						var uniqueCount = Number(json.employee_unique_count || 0);
						if (!isFinite(uniqueCount) || uniqueCount < 0) { uniqueCount = 0; }
						if (uniqueCount <= 0) {
							uniqueCount = names.length;
						}
						var rangeLabel = String(json.range_label || range);
						var metricLabel = String(json.metric_label || (metricLabels[currentMetricKey] || 'Total Hadir'));
						var note = total > 0
							? (rangeLabel + ' - total ' + String(total) + ' data')
							: (rangeLabel + ' - tidak ada data karyawan pada metrik ini.');
						if (total > 0 && uniqueCount > 0) {
							note += ' (' + String(uniqueCount) + ' karyawan unik)';
						}
						if (total > 0) {
							note += '.';
						}
						render('Daftar Karyawan - ' + metricLabel, note, details, names, unknownCount, range);
					})
					.catch(function () {
						if (requestId !== requestSeq) { return; }
						renderError();
					})
					.then(function () {
						if (requestId === requestSeq) {
							pending = false;
						}
					});
			};

			var startPolling = function () {
				if (pollingId !== null) {
					window.clearInterval(pollingId);
				}
				pollingId = window.setInterval(function () {
					if (modal.classList.contains('show')) {
						fetchMembers();
					}
				}, 20000);
			};

			var stopPolling = function () {
				if (pollingId !== null) {
					window.clearInterval(pollingId);
					pollingId = null;
				}
			};

			for (var i = 0; i < metricCards.length; i += 1) {
				(function (card) {
					card.addEventListener('click', function () {
						var key = String(card.getAttribute('data-metric-card') || '').trim();
						if (key) { currentMetricKey = key; }
						window.setTimeout(fetchMembers, 160);
					});
				})(metricCards[i]);
			}

			for (var j = 0; j < rangeButtons.length; j += 1) {
				rangeButtons[j].addEventListener('click', function () {
					window.setTimeout(fetchMembers, 160);
				});
			}

			if (memberSearchInput) {
				memberSearchInput.addEventListener('input', renderTableRows);
			}

			var observer = new MutationObserver(function () {
				if (modal.classList.contains('show')) {
					fetchMembers();
					startPolling();
				} else {
					stopPolling();
				}
			});
			observer.observe(modal, { attributes: true, attributeFilter: ['class'] });

			var chartCanvas = document.getElementById('metricChartCanvas');
			if (chartCanvas) {
				chartCanvas.addEventListener('wheel', function (event) {
					if (!modal.classList.contains('show')) {
						return;
					}
					if (event.ctrlKey || event.metaKey) {
						return;
					}
					var modalBody = modal.querySelector('.metric-modal-body');
					if (!modalBody) {
						return;
					}
					event.preventDefault();
					event.stopPropagation();
					modalBody.scrollTop += event.deltaY;
				}, { passive: false, capture: true });
			}

			var metricRangeNote = modal.querySelector('.metric-range-note');
			if (metricRangeNote) {
				metricRangeNote.textContent = 'Scroll untuk turun/naik daftar. Gunakan Ctrl + scroll untuk zoom grafik.';
			}
		})();
	</script>
			<script src="https://cdn.jsdelivr.net/npm/lightweight-charts@4.2.2/dist/lightweight-charts.standalone.production.js"></script>
			<script>
				(function () {
					var patchChartFactory = function () {
						if (!window.LightweightCharts || typeof window.LightweightCharts.createChart !== 'function') {
							return false;
						}
						if (window.__homeChartThemePatchApplied === true) {
							return true;
						}
						var originalCreateChart = window.LightweightCharts.createChart;
						var resolveDarkModeState = function () {
							var root = document.documentElement;
							var body = document.body;
							var rootTheme = root ? String(root.getAttribute('data-theme') || '').toLowerCase() : '';
							return !!(
								(root && root.classList.contains('theme-dark')) ||
								(body && body.classList.contains('theme-dark')) ||
								rootTheme === 'dark'
							);
						};
							var resolveThemePatch = function (isDarkMode) {
								if (isDarkMode) {
									return {
										layout: {
											background: { type: 'solid', color: '#0f1d2a' },
											textColor: '#d7e5f4'
										},
									grid: {
										vertLines: { color: '#274158' },
										horzLines: { color: '#274158' }
									},
									crosshair: {
										vertLine: {
											color: 'rgba(121, 161, 201, 0.45)',
											width: 1,
											style: 2,
											labelBackgroundColor: '#244d72'
										},
										horzLine: {
											color: 'rgba(121, 161, 201, 0.35)',
											width: 1,
											style: 2,
											labelBackgroundColor: '#244d72'
										}
									},
									rightPriceScale: { borderColor: '#385a78' },
									timeScale: { borderColor: '#385a78' }
								};
							}

								return {
									layout: {
										background: { type: 'solid', color: '#f9fcff' },
										textColor: '#4a627b'
									},
								grid: {
									vertLines: { color: '#e8f1fa' },
									horzLines: { color: '#e8f1fa' }
								},
								crosshair: {
									vertLine: {
										color: 'rgba(20, 79, 134, 0.45)',
										width: 1,
										style: 2,
										labelBackgroundColor: '#0f5c93'
									},
									horzLine: {
										color: 'rgba(20, 79, 134, 0.35)',
										width: 1,
										style: 2,
										labelBackgroundColor: '#0f5c93'
									}
								},
								rightPriceScale: { borderColor: '#c6d8ea' },
								timeScale: { borderColor: '#c6d8ea' }
							};
						};
							var applyThemeToChart = function (chartInstance) {
								if (!chartInstance || typeof chartInstance.applyOptions !== 'function') {
									return;
								}
								var isDarkMode = resolveDarkModeState();
								var themePatch = resolveThemePatch(isDarkMode);
								try {
									chartInstance.applyOptions({
										layout: themePatch.layout,
										grid: themePatch.grid,
										crosshair: themePatch.crosshair,
										rightPriceScale: themePatch.rightPriceScale,
										timeScale: themePatch.timeScale
									});
								} catch (error) {}
								var chartHost = document.getElementById('metricChartCanvas');
								if (chartHost && chartHost.style) {
									chartHost.style.backgroundColor = isDarkMode ? '#0f1d2a' : '#f9fcff';
								}
							};
						if (!Array.isArray(window.__homeChartThemeInstances)) {
							window.__homeChartThemeInstances = [];
						}
						if (window.__homeChartThemeListenerBound !== true) {
							window.addEventListener('home-theme-changed', function () {
								var instances = Array.isArray(window.__homeChartThemeInstances)
									? window.__homeChartThemeInstances
									: [];
								for (var i = 0; i < instances.length; i += 1) {
									applyThemeToChart(instances[i]);
								}
							});
							window.__homeChartThemeListenerBound = true;
						}
						window.LightweightCharts.createChart = function (container, options) {
							var resolved = options && typeof options === 'object' ? options : {};
							var layout = resolved.layout && typeof resolved.layout === 'object' ? resolved.layout : {};
							var grid = resolved.grid && typeof resolved.grid === 'object' ? resolved.grid : {};
							var crosshair = resolved.crosshair && typeof resolved.crosshair === 'object' ? resolved.crosshair : {};
							var vertLines = grid.vertLines && typeof grid.vertLines === 'object' ? grid.vertLines : {};
							var horzLines = grid.horzLines && typeof grid.horzLines === 'object' ? grid.horzLines : {};
							var vertLine = crosshair.vertLine && typeof crosshair.vertLine === 'object' ? crosshair.vertLine : {};
							var horzLine = crosshair.horzLine && typeof crosshair.horzLine === 'object' ? crosshair.horzLine : {};
							var rightScale = resolved.rightPriceScale && typeof resolved.rightPriceScale === 'object' ? resolved.rightPriceScale : {};
							var timeScale = resolved.timeScale && typeof resolved.timeScale === 'object' ? resolved.timeScale : {};
							var themePatch = resolveThemePatch(resolveDarkModeState());
							resolved = Object.assign({}, resolved, {
								layout: Object.assign({}, layout, themePatch.layout),
								grid: Object.assign({}, grid, {
									vertLines: Object.assign({}, vertLines, themePatch.grid.vertLines),
									horzLines: Object.assign({}, horzLines, themePatch.grid.horzLines)
								}),
								crosshair: Object.assign({}, crosshair, {
									vertLine: Object.assign({}, vertLine, themePatch.crosshair.vertLine),
									horzLine: Object.assign({}, horzLine, themePatch.crosshair.horzLine)
								}),
								rightPriceScale: Object.assign({}, rightScale, themePatch.rightPriceScale),
								timeScale: Object.assign({}, timeScale, themePatch.timeScale)
							});
							var chartInstance = originalCreateChart.call(window.LightweightCharts, container, resolved);
							if (chartInstance) {
								window.__homeChartThemeInstances.push(chartInstance);
								applyThemeToChart(chartInstance);
							}
							return chartInstance;
						};
						window.__homeChartThemePatchApplied = true;
						return true;
					};

					if (patchChartFactory()) {
						return;
					}
					var tries = 0;
					var timer = window.setInterval(function () {
						tries += 1;
						if (patchChartFactory() || tries >= 120) {
							window.clearInterval(timer);
						}
					}, 50);
				})();
			</script>
			<script defer src="/src/assets/js/home-index.js?v=1771991074"></script>
		<script defer src="/src/assets/js/home-index-collab.js?v=1771898269"></script>
		<script>
			(function () {
				var storageKey = 'home_index_theme';
				var root = document.documentElement;
				var body = document.body;
				var toggle = document.getElementById('themeToggleButton');
				if (!root || !body || !toggle) {
					return;
				}

					var writeTheme = function (theme) {
						if (theme !== 'dark' && theme !== 'light') {
							return;
						}
						var manager = window.__homeThemeManager;
						if (manager && typeof manager.persistTheme === 'function') {
							manager.persistTheme(theme);
							return;
						}
						try {
							window.localStorage.setItem(storageKey, theme);
						} catch (error) {}
						try {
							document.cookie = storageKey + '=' + encodeURIComponent(theme) + ';path=/;max-age=31536000;SameSite=Lax';
						} catch (error) {}
					};
					var readTheme = function () {
						var saved = '';
						try {
							saved = String(window.localStorage.getItem(storageKey) || '').toLowerCase();
						} catch (error) {}
						if (saved === 'dark' || saved === 'light') {
							return saved;
						}
						var cookieMatch = document.cookie.match(/(?:^|;\s*)home_index_theme=(dark|light)\b/i);
						if (cookieMatch && cookieMatch[1]) {
							return String(cookieMatch[1]).toLowerCase();
						}
						return '';
					};
					var applyTheme = function (theme, persist) {
						var isDark = theme === 'dark';
						root.classList.toggle('theme-dark', isDark);
						body.classList.toggle('theme-dark', isDark);
						root.setAttribute('data-theme', isDark ? 'dark' : 'light');
						toggle.setAttribute('aria-pressed', isDark ? 'true' : 'false');
						toggle.setAttribute('aria-label', isDark ? 'Aktifkan mode siang' : 'Aktifkan mode malam');
						toggle.title = isDark ? 'Ganti ke mode siang' : 'Ganti ke mode malam';
					if (persist === true) {
						writeTheme(isDark ? 'dark' : 'light');
					}
					try {
						window.dispatchEvent(new CustomEvent('home-theme-changed', {
							detail: {
								isDark: isDark,
								theme: isDark ? 'dark' : 'light'
							}
						}));
					} catch (error) {}
				};

					var saved = readTheme();
					if (saved === 'dark' || saved === 'light') {
						applyTheme(saved, false);
					} else {
						var prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
						applyTheme(prefersDark ? 'dark' : 'light', true);
					}

				toggle.addEventListener('click', function () {
					var activeDark = body.classList.contains('theme-dark') || root.classList.contains('theme-dark');
					applyTheme(activeDark ? 'light' : 'dark', true);
				});
			})();
		</script>
	</body>
	</html>
